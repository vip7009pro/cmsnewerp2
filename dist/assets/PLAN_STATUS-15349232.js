import{G as b,j as a,bg as D,r as e,ai as L,ad as P}from"./index-4ab6dde0.js";import{a as G}from"./index.esm-3d6bca63.js";import{L as R}from"./AccountInfo-ec538197.js";function H(s){return b({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M168.8 32.89l-32.6 32.53 21.3 21.17L190 54.08zm33.9 33.96l-9.9 9.91 123 123.04 9.9-9.9zm159.4 18.06c-3.7 0-7.4.1-10.9.3-31.9 1.78-56.7 11.76-78.3 26.39l65.5 65.6c3.5 7.3 52 96.2 65.5 123.3-9.7-6.4-123.4-65.4-123.4-65.4l-15.3-15.2v140.3c23.9-14.6 50.1-27.7 83.6-31.2 37.5-4 83.5 4.3 144.2 33.1V118.7c-51.7-22.99-93.3-32.89-127.2-33.69-1.3 0-2.5-.11-3.7-.1zm-230.8 1.03C100.4 88.93 63.44 99 19.05 118.7v243.4C79.85 333.3 125.8 325 163.3 329c33 5.2 58.1 15.8 83.6 31.2V201.6c-38.6-38.5-77.1-77.1-115.6-115.66zm48.8 3.55l-9.9 9.89 123 123.02 9.9-9.9zM336 205.1l-27.5 27.5 55.1 27.6zM143.8 346.7c-32 .3-71.85 9.8-124.75 36v42.5c60.8-28.8 106.75-37.1 144.25-33.1 18.6 2 34.9 6.9 49.8 13.3-4.7 6.1-9.3 13.3-13.9 21.7h117.2c-6-8.2-11.8-15.4-17.7-21.6 15-6.5 31.4-11.4 50.1-13.4 37.5-4 83.5 4.3 144.2 33.1v-42.5c-53.1-26.3-93.1-35.9-125.2-36h-3.1c-4.8.1-9.4.4-13.9.9-34 3.6-59.6 18-85.6 34.4-5.7-.8-13-1.8-18.3-.9-27.2-16.2-58.2-30.4-85.5-33.5-5.6-.6-11.5-.9-17.6-.9z"}}]})(s)}function O(s){return b({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M57.656 16.156C42.71 16.533 31.24 29.793 24.5 44.813 6.05 85.91 32.88 81.803 71.156 90.374 79.272 66.585 86.96 48.042 94.72 31.53 87.197 27.1 79.315 22.944 71 19.126c-4.708-2.162-9.158-3.074-13.344-2.97zm52.907 25.5c-7.026 15.13-13.945 32.076-21.344 53.688 10.168 3.41 20.723 8.157 31.155 15.094 11.68-12.212 23.456-21.498 35.28-29.063-13.287-14.6-28.152-27.967-45.093-39.72zm57.28 53.97c-11.064 6.804-21.837 15.1-32.718 26.343 11.416 10.345 22.372 23.944 32.125 42.124 7.94-13.026 16.59-23.73 25.625-33.125-7.722-12.28-15.997-24.11-25.03-35.345zm104.876 6.655c-21.823 9.456-42.608 20.63-59.908 35.126-.123.117-.25.227-.375.344-13.47 12.74-25.593 27.446-36.28 48.72-2.3 5.677-4.237 11.678-5.72 18.03 21.49 66.477 64.75 126.913 119.5 172.094 33.212 37.003 79.484 67.087 129.47 89.03C300.828 433.35 196.2 335.897 155.124 217.563c-13.287 6.835-27.93 11.178-42.03 11.625 77.753 185.39 256.893 319.184 382.28 238.657-161.46-55.25-192.335-204.99-257.28-326.344 12.505-8.307 26.713-15.444 42.06-22.094l-7.436-17.125z"}}]})(s)}function U(s){return b({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 3a1 1 0 00-1 1v12a1 1 0 102 0V4a1 1 0 00-1-1zm10.293 9.293a1 1 0 001.414 1.414l3-3a1 1 0 000-1.414l-3-3a1 1 0 10-1.414 1.414L14.586 9H7a1 1 0 100 2h7.586l-1.293 1.293z",clipRule:"evenodd"}}]})(s)}function Y(s){return b({tag:"svg",attr:{fill:"none",viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"}}]})(s)}const K=({id:s,PLAN_ID:A,PLAN_QTY:r,KQ_SX_TAM:u,KETQUASX:M,PLAN_FACTORY:S,STEP:t,PLAN_DATE:m,PLAN_EQ:h,G_NAME:k,G_NAME_KD:x,XUATDAO:p,SETTING_START_TIME:n,MASS_START_TIME:g,MASS_END_TIME:C,DKXL:v,XUATLIEU:o,CHOTBC:i,WORK_SHIFT:d})=>{let c=i===null?u===null?0:u:M,j=r===0?0:c/r*100,f="white";return c>0?f="#c9f261":f="white",a.jsxs("div",{className:"plan_status_component",children:[a.jsx("div",{className:"flag",style:{backgroundColor:"green",padding:"10px",width:"20px",color:"white"},children:s+1}),a.jsx("div",{className:"flag",style:{backgroundColor:"yellow",padding:"10px"},children:A}),a.jsxs("div",{className:"flag",style:{backgroundColor:"#fabd6e",padding:"10px",color:"black",width:"180px",overflow:"hidden"},children:[a.jsx(Y,{color:"black",size:25})," ",x]}),a.jsx("div",{className:"flag",style:{backgroundColor:"#6efad7",padding:"10px"},children:m}),a.jsx("div",{className:"flag",style:{backgroundColor:"#6efad7",padding:"10px"},children:d===null?"CHƯA SX":d==="DAY"?"CA_NGÀY":"CA__ĐÊM"}),a.jsx("div",{className:"flag",style:{backgroundColor:"#5230fc",padding:"10px",color:"yellow"},children:S}),a.jsx("div",{className:"flag",style:{backgroundColor:"#5230fc",padding:"10px",color:"yellow"},children:h}),a.jsxs("div",{className:"flag",style:{backgroundColor:t===0?"yellow":"#fcba03",padding:"10px",color:"black"},children:["STEP: ",t===0?"F":t]}),a.jsxs("div",{className:"flag",style:{backgroundColor:p===null?"red":"#6ffa48",padding:"10px",width:"200px",color:p===null?"white":"black"},children:[a.jsx(O,{color:"black",size:25})," ",p===null?"CHƯA XUẤT DAO":"ĐÃ XUẤT DAO"]}),a.jsxs("div",{className:"flag",style:{backgroundColor:n===null?"red":"#6ffa48",padding:"10px",width:"200px",color:n===null?"white":"black"},children:[a.jsx(D,{color:"black",size:25}),"   ",n===null?"CHƯA BĐ SETTING":"ĐÃ BĐ SETTING"]}),a.jsxs("div",{className:"flag",style:{backgroundColor:g===null?"red":"#6ffa48",padding:"10px",width:"200px",color:g===null?"white":"black"},children:[a.jsx(D,{color:"black",size:25})," ",g===null?"CHƯA KT SETTING":"ĐÃ KT SETTING"]}),a.jsxs("div",{className:"flag",style:{backgroundColor:v===null?"red":"#6ffa48",padding:"10px",width:"220px",color:v===null?"white":"black"},children:[a.jsx(H,{color:"black",size:25}),"    ",v===null?"CHƯA ĐĂNG KÝ XL":"ĐÃ ĐĂNG KÝ XL"]}),a.jsxs("div",{className:"flag",style:{backgroundColor:o===null?"red":"#6ffa48",padding:"10px",width:"220px",color:o===null?"white":"black"},children:[a.jsx(U,{color:"black",size:25}),"    ",o===null?"CHƯA XUẤT LIỆU CHÍNH":"ĐÃ XUẤT LIỆU CHÍNH"]}),a.jsxs("div",{className:"flag",style:{backgroundColor:i===null?"red":"#6ffa48",padding:"10px",width:"200px",color:i===null?"white":"black"},children:[a.jsx(G,{color:"black",size:25}),"     ",i===null?"CHƯA CHỐT BC":"ĐÃ CHỐT BC"]}),a.jsxs("div",{className:"flag",style:{backgroundColor:f,padding:"10px",color:"black",width:"200px",justifySelf:"center",fontWeight:"bold"},children:[a.jsxs("b",{children:[c==null?void 0:c.toLocaleString("en-US"),"/ ",r==null?void 0:r.toLocaleString("en-US")," "]}),a.jsx(R,{value:j})]})]})},Q=()=>{const[s,A]=e.useState(!1),[r,u]=e.useState(!1),[M,S]=e.useTransition(),[t,m]=e.useState(L().format("YYYY-MM-DD")),[h,k]=e.useState(L().format("YYYY-MM-DD")),[x,p]=e.useState(""),[n,g]=e.useState(""),[C,v]=e.useState("ALL"),[o,i]=e.useState("ALL"),[d,c]=e.useState(""),[j,f]=e.useState(""),[N,y]=e.useState(!1),[w,z]=e.useState([]);e.useState(""),e.useState("");const T=()=>{P("checkQLSXPLANSTATUS",{ALLTIME:N,FROM_DATE:t,TO_DATE:h,G_NAME:x,G_CODE:n,PLAN_ID:j,PROD_REQUEST_NO:d,FACTORY:o,PLAN_EQ:C}).then(l=>{if(l.data.tk_status!=="NG"){const _=l.data.data.map((E,I)=>({...E,PLAN_DATE:L.utc(E.PLAN_DATE).format("YYYY-MM-DD"),id:I}));S(()=>{z(_)}),A(!0),u(!1)}}).catch(l=>{console.log(l)})};return e.useEffect(()=>{T();let l=window.setInterval(()=>{T()},3e3);return()=>{window.clearInterval(l)}},[t,h,N,o,n,x,j,d,C]),a.jsx("div",{className:"plan_status",children:a.jsxs("div",{className:"tracuuDataInspection",children:[a.jsxs("div",{className:"tracuuDataInspectionform",children:[a.jsxs("div",{className:"forminput",children:[a.jsxs("div",{className:"forminputcolumn",children:[a.jsxs("label",{children:[a.jsx("b",{children:"Từ ngày:"}),a.jsx("input",{type:"date",value:t.slice(0,10),onChange:l=>m(l.target.value)})]}),a.jsxs("label",{children:[a.jsx("b",{children:"Tới ngày:"})," ",a.jsx("input",{type:"date",value:h.slice(0,10),onChange:l=>k(l.target.value)})]})]}),a.jsxs("div",{className:"forminputcolumn",children:[a.jsxs("label",{children:[a.jsx("b",{children:"Code KD:"})," ",a.jsx("input",{type:"text",placeholder:"GH63-xxxxxx",value:x,onChange:l=>p(l.target.value)})]}),a.jsxs("label",{children:[a.jsx("b",{children:"Code CMS:"})," ",a.jsx("input",{type:"text",placeholder:"7C123xxx",value:n,onChange:l=>g(l.target.value)})]})]}),a.jsxs("div",{className:"forminputcolumn",children:[a.jsxs("label",{children:[a.jsx("b",{children:"Số YCSX:"})," ",a.jsx("input",{type:"text",placeholder:"1F80008",value:d,onChange:l=>c(l.target.value)})]}),a.jsxs("label",{children:[a.jsx("b",{children:"Số chỉ thị:"})," ",a.jsx("input",{type:"text",placeholder:"A123456",value:j,onChange:l=>f(l.target.value)})]})]}),a.jsxs("div",{className:"forminputcolumn",children:[a.jsxs("label",{children:[a.jsx("b",{children:"FACTORY:"}),a.jsxs("select",{name:"phanloai",value:o,onChange:l=>{i(l.target.value)},children:[a.jsx("option",{value:"ALL",children:"ALL"}),a.jsx("option",{value:"NM1",children:"NM1"}),a.jsx("option",{value:"NM2",children:"NM2"})]})]}),a.jsxs("label",{children:[a.jsx("b",{children:"MACHINE:"}),a.jsxs("select",{name:"machine",value:C,onChange:l=>{v(l.target.value)},children:[a.jsx("option",{value:"ALL",children:"ALL"}),a.jsx("option",{value:"FR",children:"FR"}),a.jsx("option",{value:"SR",children:"SR"}),a.jsx("option",{value:"DC",children:"DC"}),a.jsx("option",{value:"ED",children:"ED"})]})]})]})]}),a.jsxs("div",{className:"formbutton",children:[a.jsxs("label",{children:[a.jsx("b",{children:"All Time:"}),a.jsx("input",{type:"checkbox",name:"alltimecheckbox",defaultChecked:N,onChange:()=>{y(!N),console.log(!N)}})]}),a.jsx("button",{className:"tranhatky",onClick:()=>{u(!0),A(!1),T()},children:"Tra lịch sử"})]})]}),a.jsx("div",{className:"tracuuYCSXTable",children:s&&w.map((l,_)=>a.jsx(K,{PLAN_QTY:l.PLAN_QTY,KETQUASX:l.KETQUASX,KQ_SX_TAM:l.KQ_SX_TAM,PLAN_FACTORY:l.PLAN_FACTORY,STEP:l.STEP,id:l.id,PLAN_ID:l.PLAN_ID,PLAN_DATE:l.PLAN_DATE,PLAN_EQ:l.PLAN_EQ,G_NAME:l.G_NAME,G_NAME_KD:l.G_NAME_KD,XUATDAO:l.XUATDAO,SETTING_START_TIME:l.SETTING_START_TIME,MASS_START_TIME:l.MASS_START_TIME,MASS_END_TIME:l.MASS_END_TIME,DKXL:l.DKXL,XUATLIEU:l.XUATLIEU,CHOTBC:l.CHOTBC,WORK_SHIFT:l.WORK_SHIFT},_))})]})})};export{O as G,Q as P};
