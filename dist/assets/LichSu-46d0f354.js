import{r as d,ai as h,ad as n,S as t,j as a,aj as _,ak as T}from"./index-4ab6dde0.js";import{D as u,G as S,b as M}from"./DataGrid-b5e0acb2.js";import{G as O,a as w,b as g}from"./GridToolbarFilterButton-ec6062d3.js";import"./TextField-db9fe3d0.js";import"./MenuItem-8199bc03.js";import"./Typography-b6d023f3.js";const v=()=>{const[N,i]=d.useState(!1),[o,s]=d.useState([]),[r,c]=d.useState(h().format("YYYY-MM-01")),[l,m]=d.useState(h().format("YYYY-MM-DD")),E=[{field:"APPLY_DATE",headerName:"APPLY_DATE",width:120,valueGetter:e=>e.row.APPLY_DATE?e.row.APPLY_DATE.slice(0,10):""},{field:"ON_OFF",headerName:"ON_OFF",width:120,renderCell:e=>{if(e.row.ON_OFF===1)return a.jsx("div",{className:"onoffdiv",children:a.jsx("span",{style:{fontWeight:"bold",color:"green"},children:"Đi làm"})});if(e.row.ON_OFF===0)return a.jsx("div",{className:"onoffdiv",children:a.jsx("span",{style:{fontWeight:"bold",color:"red"},children:"Nghỉ làm"})})}},{field:"PHE_DUYET",headerName:"PHE_DUYET",width:120,renderCell:e=>e.row.APPROVAL_STATUS===0?a.jsx("div",{className:"onoffdiv",children:a.jsx("span",{style:{fontWeight:"bold",color:"red"},children:"Từ chối"})}):e.row.APPROVAL_STATUS===1?a.jsx("div",{className:"onoffdiv",children:a.jsx("span",{style:{fontWeight:"bold",color:"green"},children:"Phê duyệt"})}):e.row.APPROVAL_STATUS===2?a.jsx("div",{className:"onoffdiv",children:a.jsx("span",{style:{fontWeight:"bold",color:"white"},children:"Chờ duyệt"})}):a.jsx("div",{className:"onoffdiv"})},{field:"EMPL_NO",headerName:"EMPL_NO",width:120},{field:"CMS_ID",headerName:"CMS_ID",width:120},{field:"MIDLAST_NAME",headerName:"MIDLAST_NAME",width:170},{field:"FIRST_NAME",headerName:"FIRST_NAME",width:120},{field:"CA_NGHI",headerName:"CA_NGHI",width:100},{field:"OVERTIME_INFO",headerName:"OVERTIME_INFO",width:120},{field:"OVERTIME",headerName:"OVERTIME",width:100},{field:"REASON_NAME",headerName:"REASON_NAME",width:120},{field:"REMARK",headerName:"REMARK",width:170},{field:"XACNHAN",headerName:"XACNHAN",width:120},{field:"PHONE_NUMBER",headerName:"PHONE_NUMBER",width:120},{field:"SEX_NAME",headerName:"SEX_NAME",width:120},{field:"WORK_STATUS_NAME",headerName:"WORK_STATUS_NAME",width:120},{field:"FACTORY_NAME",headerName:"FACTORY_NAME",width:120},{field:"JOB_NAME",headerName:"JOB_NAME",width:120},{field:"WORK_SHIF_NAME",headerName:"WORK_SHIF_NAME",width:120},{field:"WORK_POSITION_NAME",headerName:"WORK_POSITION_NAME",width:120},{field:"SUBDEPTNAME",headerName:"SUBDEPTNAME",width:120},{field:"MAINDEPTNAME",headerName:"MAINDEPTNAME",width:120},{field:"REQUEST_DATE",headerName:"REQUEST_DATE",width:120,valueGetter:e=>e.row.REQUEST_DATE?e.row.REQUEST_DATE.slice(0,10):""},{field:"OFF_ID",headerName:"OFF_ID",width:120}];function f(){return a.jsxs(S,{children:[a.jsx(O,{}),a.jsx(w,{}),a.jsx(g,{}),a.jsx("button",{className:"saveexcelbutton",onClick:()=>{T(o,"LichSuLamViec")},children:"Save Excel"}),a.jsx(M,{})]})}const A=()=>{n("mydiemdanhnhom",{from_date:r,to_date:l}).then(e=>{e.data.tk_status!=="NG"?(s(e.data.data),i(!1),t.fire("Thông báo","Đã load "+e.data.data.length+" dòng","success")):t.fire("Thông báo","Nội dung: "+e.data.message,"error")}).catch(e=>{console.log(e)})};return d.useEffect(()=>{i(!0),n("mydiemdanhnhom",{from_date:r,to_date:l}).then(e=>{e.data.tk_status!=="NG"?(s(e.data.data),i(!1),t.fire("Thông báo","Đã load "+e.data.data.length+" dòng","success")):t.fire("Thông báo","Nội dung: "+e.data.message,"error")}).catch(e=>{console.log(e)})},[]),a.jsxs("div",{className:"lichsu",children:[a.jsx("h3",{children:"Lịch Sử Làm Việc Của Tôi"}),a.jsxs("div",{className:"filterform",children:[a.jsxs("label",{children:[a.jsx("b",{children:"Từ ngày:"}),a.jsx("input",{type:"date",value:r.slice(0,10),onChange:e=>c(e.target.value)})]}),a.jsxs("label",{children:[a.jsx("b",{children:"Tới ngày:"})," ",a.jsx("input",{type:"date",value:l.slice(0,10),onChange:e=>m(e.target.value)})]}),a.jsx("button",{className:"searchbutton",onClick:()=>{A()},children:"Search"})]}),a.jsx("div",{className:"maindept_table",children:a.jsx(u,{sx:{fontSize:"0.8rem"},components:{Toolbar:f,LoadingOverlay:_},loading:N,rowHeight:35,rows:o,columns:E,rowsPerPageOptions:[5,10,50,100,500],editMode:"row",getRowHeight:()=>"auto"})})]})};export{v as default};
