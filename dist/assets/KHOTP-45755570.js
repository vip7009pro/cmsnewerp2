import{r,ai as S,j as e,aj as F,I as J,ak as z,al as X,ad as f,S as s}from"./index-4ab6dde0.js";import{D as V,G as q,b as $}from"./DataGrid-b5e0acb2.js";const ae=()=>{const[K,n]=r.useState(!1);r.useState({trapo:!0,thempohangloat:!1,them1po:!1,them1invoice:!1,themycsx:!1,suaycsx:!1,inserttableycsx:!1,renderycsx:!1,renderbanve:!1,amazontab:!1});const[M,t]=r.useState(!1),[h,w]=r.useState(S().format("YYYY-MM-DD")),[T,D]=r.useState(S().format("YYYY-MM-DD")),[u,p]=r.useState(""),[_,L]=r.useState(""),[N,y]=r.useState(""),[i,I]=r.useState(!1),[A,G]=r.useState(!1),[c,H]=r.useState(!0),[j,O]=r.useState([]),[U,C]=r.useState(""),k=[{field:"KHO_NAME",headerName:"KHO_NAME",width:90},{field:"LC_NAME",headerName:"LC_NAME",width:90},{field:"G_CODE",headerName:"G_CODE",width:90},{field:"G_NAME",headerName:"G_NAME",width:180},{field:"G_NAME_KD",headerName:"G_NAME_KD",width:180},{field:"NHAPKHO",headerName:"NHAPKHO",width:120,renderCell:a=>e.jsx("span",{style:{color:"gray"},children:e.jsx("b",{children:a.row.NHAPKHO.toLocaleString("en-US")})})},{field:"XUATKHO",headerName:"XUATKHO",width:120,renderCell:a=>e.jsx("span",{style:{color:"gray"},children:e.jsx("b",{children:a.row.XUATKHO.toLocaleString("en-US")})})},{field:"TONKHO",headerName:"TONKHO",width:100,renderCell:a=>e.jsx("span",{style:{color:"blue"},children:e.jsx("b",{children:a.row.TONKHO.toLocaleString("en-US")})})},{field:"BLOCK_QTY",headerName:"BLOCK_QTY",width:100,renderCell:a=>e.jsx("span",{style:{color:"red"},children:e.jsx("b",{children:a.row.BLOCK_QTY.toLocaleString("en-US")})})},{field:"GRAND_TOTAL_TP",headerName:"GRAND_TOTAL_TP",width:150,renderCell:a=>e.jsx("span",{style:{color:"green"},children:e.jsx("b",{children:a.row.GRAND_TOTAL_TP.toLocaleString("en-US")})})}],b=[{field:"G_CODE",headerName:"G_CODE",width:90},{field:"G_NAME",headerName:"G_NAME",width:180},{field:"G_NAME_KD",headerName:"G_NAME_KD",width:180},{field:"CHO_KIEM",headerName:"CHO_KIEM",width:120,renderCell:a=>e.jsx("span",{style:{color:"gray"},children:e.jsx("b",{children:a.row.CHO_KIEM.toLocaleString("en-US")})})},{field:"CHO_CS_CHECK",headerName:"WAIT CS",width:120,renderCell:a=>e.jsx("span",{style:{color:"gray"},children:e.jsx("b",{children:a.row.CHO_CS_CHECK.toLocaleString("en-US")})})},{field:"CHO_KIEM_RMA",headerName:"WAIT RMA",width:120,renderCell:a=>e.jsx("span",{style:{color:"gray"},children:e.jsx("b",{children:a.row.CHO_KIEM_RMA.toLocaleString("en-US")})})},{field:"TONG_TON_KIEM",headerName:"TONG_TON_KIEM",width:120,renderCell:a=>e.jsx("span",{style:{color:"blue"},children:e.jsx("b",{children:a.row.TONG_TON_KIEM.toLocaleString("en-US")})})},{field:"BTP",headerName:"BTP",width:100,renderCell:a=>e.jsx("span",{style:{color:"blue"},children:e.jsx("b",{children:a.row.BTP.toLocaleString("en-US")})})},{field:"TON_TP",headerName:"TON_TP",width:100,renderCell:a=>e.jsx("span",{style:{color:"blue"},children:e.jsx("b",{children:a.row.TON_TP.toLocaleString("en-US")})})},{field:"BLOCK_QTY",headerName:"BLOCK_QTY",width:100,renderCell:a=>e.jsx("span",{style:{color:"red"},children:e.jsx("b",{children:a.row.BLOCK_QTY.toLocaleString("en-US")})})},{field:"GRAND_TOTAL_STOCK",headerName:"GRAND_TOTAL_STOCK",width:150,renderCell:a=>e.jsx("span",{style:{color:"green"},children:e.jsx("b",{children:a.row.GRAND_TOTAL_STOCK.toLocaleString("en-US")})})}],P=[{field:"G_NAME_KD",headerName:"G_NAME_KD",width:180},{field:"CHO_KIEM",headerName:"CHO_KIEM",width:120,renderCell:a=>e.jsx("span",{style:{color:"gray"},children:e.jsx("b",{children:a.row.CHO_KIEM.toLocaleString("en-US")})})},{field:"CHO_CS_CHECK",headerName:"WAIT CS",width:120,renderCell:a=>e.jsx("span",{style:{color:"gray"},children:e.jsx("b",{children:a.row.CHO_CS_CHECK.toLocaleString("en-US")})})},{field:"CHO_KIEM_RMA",headerName:"WAIT RMA",width:120,renderCell:a=>e.jsx("span",{style:{color:"gray"},children:e.jsx("b",{children:a.row.CHO_KIEM_RMA.toLocaleString("en-US")})})},{field:"TONG_TON_KIEM",headerName:"TONG_TON_KIEM",width:120,renderCell:a=>e.jsx("span",{style:{color:"blue"},children:e.jsx("b",{children:a.row.TONG_TON_KIEM.toLocaleString("en-US")})})},{field:"BTP",headerName:"BTP",width:100,renderCell:a=>e.jsx("span",{style:{color:"blue"},children:e.jsx("b",{children:a.row.BTP.toLocaleString("en-US")})})},{field:"TON_TP",headerName:"TON_TP",width:100,renderCell:a=>e.jsx("span",{style:{color:"blue"},children:e.jsx("b",{children:a.row.TON_TP.toLocaleString("en-US")})})},{field:"BLOCK_QTY",headerName:"BLOCK_QTY",width:100,renderCell:a=>e.jsx("span",{style:{color:"red"},children:e.jsx("b",{children:a.row.BLOCK_QTY.toLocaleString("en-US")})})},{field:"GRAND_TOTAL_STOCK",headerName:"GRAND_TOTAL_STOCK",width:150,renderCell:a=>e.jsx("span",{style:{color:"green"},children:e.jsx("b",{children:a.row.GRAND_TOTAL_STOCK.toLocaleString("en-US")})})}],g=[{field:"G_CODE",headerName:"G_CODE",width:90},{field:"G_NAME",headerName:"G_NAME",width:180},{field:"G_NAME_KD",headerName:"G_NAME_KD",width:120},{field:"CUST_NAME_KD",headerName:"CUST_NAME_KD",width:150},{field:"Customer_ShortName",headerName:"Customer_ShortName",width:150},{field:"IO_Date",headerName:"IO_Date",width:150},{field:"INPUT_DATETIME",headerName:"IN_OUT_TIME",width:150},{field:"IO_Shift",headerName:"IO_Shift",width:80},{field:"IO_Type",headerName:"IO_Type",width:80},{field:"IO_Qty",headerName:"IO_Qty",width:80,renderCell:a=>e.jsx("span",{style:{color:"green"},children:e.jsx("b",{children:a.row.IO_Qty.toLocaleString("en-US")})})},{field:"IO_Note",headerName:"IO_Note",width:150},{field:"IO_Number",headerName:"IO_Number",width:100}],[Y,m]=r.useState(b);function v(){return e.jsxs(q,{children:[e.jsxs(J,{className:"buttonIcon",onClick:()=>{z(j,"WareHouse Data Table")},children:[e.jsx(X,{color:"green",size:25}),"SAVE"]}),e.jsx($,{}),e.jsx("span",{style:{fontWeight:"bold",fontSize:18,paddingLeft:20,color:"blue"},children:U})]})}const E=a=>{let d=0;C(""),t(!0),f("trakhotpInOut",{G_CODE:_,G_NAME:u,ALLTIME:i,JUSTBALANCE:c,CUST_NAME:N,FROM_DATE:h,TO_DATE:T,INOUT:a,CAPBU:A}).then(l=>{if(l.data.tk_status!=="NG"){const o=l.data.data.map((x,Q)=>(d+=x.IO_Qty,{...x,id:Q,IO_Date:S.utc(x.IO_Date).format("YYYY-MM-DD"),INPUT_DATETIME:S.utc(x.INPUT_DATETIME).format("YYYY-MM-DD HH:mm:ss")}));O(o),n(!0),t(!1),C("TOTAL QTY: "+d.toLocaleString("en-US")+"EA"),s.fire("Thông báo","Đã load "+l.data.data.length+" dòng","success")}else s.fire("Thông báo","Nội dung: "+l.data.message,"error"),t(!1)}).catch(l=>{console.log(l)})},B=()=>{C(""),t(!0),f("traSTOCKCMS",{G_CODE:_,G_NAME:u,ALLTIME:i,JUSTBALANCE:c,CUST_NAME:N,FROM_DATE:h,TO_DATE:T}).then(a=>{if(a.data.tk_status!=="NG"){const d=a.data.data.map((l,o)=>({...l,id:o}));O(d),n(!0),t(!1),s.fire("Thông báo","Đã load "+a.data.data.length+" dòng","success")}else s.fire("Thông báo","Nội dung: "+a.data.message,"error"),t(!1)}).catch(a=>{console.log(a)})},R=()=>{C(""),t(!0),f("traSTOCKKD",{G_CODE:_,G_NAME:u,ALLTIME:i,JUSTBALANCE:c,CUST_NAME:N,FROM_DATE:h,TO_DATE:T}).then(a=>{if(a.data.tk_status!=="NG"){const d=a.data.data.map((l,o)=>({...l,id:o}));O(d),n(!0),t(!1),s.fire("Thông báo","Đã load "+a.data.data.length+" dòng","success")}else s.fire("Thông báo","Nội dung: "+a.data.message,"error"),t(!1)}).catch(a=>{console.log(a)})},W=()=>{C(""),t(!0),f("traSTOCKTACH",{G_CODE:_,G_NAME:u,ALLTIME:i,JUSTBALANCE:c,CUST_NAME:N,FROM_DATE:h,TO_DATE:T}).then(a=>{if(a.data.tk_status!=="NG"){const d=a.data.data.map((l,o)=>({...l,id:o}));O(d),n(!0),t(!1),s.fire("Thông báo","Đã load "+a.data.data.length+" dòng","success")}else s.fire("Thông báo","Nội dung: "+a.data.message,"error"),t(!1)}).catch(a=>{console.log(a)})};return r.useEffect(()=>{},[]),e.jsx("div",{className:"khotp",children:e.jsxs("div",{className:"tracuuDataWH",children:[e.jsxs("div",{className:"tracuuDataWHform",children:[e.jsxs("div",{className:"forminput",children:[e.jsxs("div",{className:"forminputcolumn",children:[e.jsxs("label",{children:[e.jsx("b",{children:"Từ ngày:"}),e.jsx("input",{type:"date",value:h.slice(0,10),onChange:a=>w(a.target.value)})]}),e.jsxs("label",{children:[e.jsx("b",{children:"Tới ngày:"})," ",e.jsx("input",{type:"date",value:T.slice(0,10),onChange:a=>D(a.target.value)})]})]}),e.jsxs("div",{className:"forminputcolumn",children:[e.jsxs("label",{children:[e.jsx("b",{children:"Code KD:"})," ",e.jsx("input",{type:"text",placeholder:"GH63-xxxxxx",value:u,onChange:a=>p(a.target.value)})]}),e.jsxs("label",{children:[e.jsx("b",{children:"Code CMS:"})," ",e.jsx("input",{type:"text",placeholder:"7C123xxx",value:_,onChange:a=>L(a.target.value)})]})]}),e.jsxs("div",{className:"forminputcolumn",children:[e.jsxs("label",{children:[e.jsx("b",{children:"Khách:"})," ",e.jsx("input",{type:"text",placeholder:"SEVT",value:N,onChange:a=>y(a.target.value)})]}),e.jsxs("label",{children:[e.jsx("b",{children:"All Time:"}),e.jsx("input",{type:"checkbox",name:"alltimecheckbox",defaultChecked:i,onChange:()=>I(!i)})]})]}),e.jsxs("div",{className:"forminputcolumn",children:[e.jsxs("label",{children:[e.jsx("b",{children:"Tính cả xuất cấp bù:"}),e.jsx("input",{type:"checkbox",name:"alltimecheckbox",defaultChecked:A,onChange:()=>G(!A)})]}),e.jsxs("label",{children:[e.jsx("b",{children:"Chỉ code có tồn:"}),e.jsx("input",{type:"checkbox",name:"alltimecheckbox",defaultChecked:c,onChange:()=>H(!c)})]})]})]}),e.jsxs("div",{className:"formbutton",children:[e.jsx("button",{className:"tranhapkiembutton",onClick:()=>{t(!0),n(!1),m(g),E("IN")},children:"Nhập Kho"}),e.jsx("button",{className:"tranhapkiembutton",onClick:()=>{t(!0),n(!1),m(g),E("OUT")},children:"Xuất Kho"}),e.jsx("button",{className:"traxuatkiembutton",onClick:()=>{t(!0),n(!1),m(b),B()},children:"Tồn Kho (CMS)"}),e.jsx("button",{className:"tranhapxuatkiembutton",onClick:()=>{t(!0),n(!1),m(P),R()},children:"Tồn Kho (KD)"}),e.jsx("button",{className:"tranhatky",onClick:()=>{t(!0),n(!1),m(k),W()},children:"Tồn Kho(Tách kho)"})]})]}),e.jsx("div",{className:"tracuuWHTable",children:K&&e.jsx(V,{sx:{fontSize:12,flex:1},components:{Toolbar:v,LoadingOverlay:F},loading:M,rowHeight:30,rows:j,columns:Y,rowsPerPageOptions:[5,10,50,100,500,1e3,5e3,1e4,5e5],editMode:"row"})})]})})};export{ae as K};
