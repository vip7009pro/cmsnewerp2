import{r as t,ai as i,j as e,aj as P,I as w,ak as U,al as R,ad as G}from"./index-4ab6dde0.js";import{D as Q,G as k,b as H}from"./DataGrid-b5e0acb2.js";import"./TextField-db9fe3d0.js";import"./MenuItem-8199bc03.js";import"./Typography-b6d023f3.js";const B=()=>{t.useState([]);const[_,n]=t.useState(!1);t.useState({trapo:!0,thempohangloat:!1,them1po:!1,them1invoice:!1,themycsx:!1,suaycsx:!1,inserttableycsx:!1,renderycsx:!1,renderbanve:!1,amazontab:!1});const[j,d]=t.useState(!1),[o,S]=t.useState(i().format("YYYY-MM-DD")),[r,D]=t.useState(i().format("YYYY-MM-DD")),[c,C]=t.useState(""),[u,E]=t.useState(""),[h,T]=t.useState(""),[x,b]=t.useState(""),[s,M]=t.useState(!1);t.useState("");const[m,g]=t.useState([]);t.useState("");const[f,I]=t.useState(""),[N,v]=t.useState(""),l=[{field:"PROD_REQUEST_NO",headerName:"YCSX NO",minwidth:80,flex:1},{field:"PLAN_ID",headerName:"PLAN_ID",minwidth:80,flex:1},{field:"G_CODE",headerName:"G_CODE",minwidth:80,flex:1},{field:"G_NAME_KD",headerName:"G_NAME_KD",minwidth:80,flex:1},{field:"M_CODE",headerName:"M_CODE",minwidth:80,flex:1},{field:"M_NAME",headerName:"M_NAME",minwidth:150,flex:2},{field:"WIDTH_CD",headerName:"SIZE",minwidth:40,flex:1},{field:"M_LOT_NO",headerName:"M_LOT_NO",minwidth:90,flex:1},{field:"INPUT_QTY",headerName:"INPUT_QTY",minwidth:120,flex:1},{field:"USED_QTY",headerName:"USED_QTY",minwidth:80,flex:1},{field:"REMAIN_QTY",headerName:"REMAIN_QTY",minwidth:90,flex:1},{field:"EMPL_NO",headerName:"EMPL_NO",minwidth:80,flex:1},{field:"EQUIPMENT_CD",headerName:"MAY",minwidth:40,flex:1},{field:"INS_DATE",headerName:"INS_DATE",minwidth:150,flex:1}],[F,A]=t.useState(l);function L(){return e.jsxs(k,{children:[e.jsxs(w,{className:"buttonIcon",onClick:()=>{U(m,"LICHSU INPUT Table")},children:[e.jsx(R,{color:"green",size:25}),"SAVE"]}),e.jsx(H,{}),e.jsx("div",{className:"div",style:{fontSize:20,fontWeight:"bold"},children:"Lịch sử input liệu sản xuất"})]})}const Y=()=>{G("lichsuinputlieusanxuat_full",{ALLTIME:s,FROM_DATE:o,TO_DATE:r,PROD_REQUEST_NO:h,PLAN_ID:x,M_NAME:f,M_CODE:N,G_NAME:c,G_CODE:u}).then(a=>{if(console.log(a.data.data),a.data.tk_status!=="NG"){const y=a.data.data.map((p,O)=>({...p,INS_DATE:i(p.INS_DATE).utc().format("YYYY-MM-DD HH:mm:ss"),id:O}));g(y),n(!0),d(!1)}}).catch(a=>{console.log(a)})};return t.useEffect(()=>{},[]),e.jsx("div",{className:"lichsuinputlieu",children:e.jsxs("div",{className:"tracuuDataInspection",children:[e.jsxs("div",{className:"tracuuDataInspectionform",children:[e.jsxs("div",{className:"forminput",children:[e.jsxs("div",{className:"forminputcolumn",children:[e.jsxs("label",{children:[e.jsx("b",{children:"Từ ngày:"}),e.jsx("input",{type:"date",value:o.slice(0,10),onChange:a=>S(a.target.value)})]}),e.jsxs("label",{children:[e.jsx("b",{children:"Tới ngày:"})," ",e.jsx("input",{type:"date",value:r.slice(0,10),onChange:a=>D(a.target.value)})]})]}),e.jsxs("div",{className:"forminputcolumn",children:[e.jsxs("label",{children:[e.jsx("b",{children:"Code KD:"})," ",e.jsx("input",{type:"text",placeholder:"GH63-xxxxxx",value:c,onChange:a=>C(a.target.value)})]}),e.jsxs("label",{children:[e.jsx("b",{children:"Code CMS:"})," ",e.jsx("input",{type:"text",placeholder:"7C123xxx",value:u,onChange:a=>E(a.target.value)})]})]}),e.jsxs("div",{className:"forminputcolumn",children:[e.jsxs("label",{children:[e.jsx("b",{children:"Tên Liệu:"})," ",e.jsx("input",{type:"text",placeholder:"SJ-203020HC",value:f,onChange:a=>I(a.target.value)})]}),e.jsxs("label",{children:[e.jsx("b",{children:"Mã Liệu CMS:"})," ",e.jsx("input",{type:"text",placeholder:"A123456",value:N,onChange:a=>v(a.target.value)})]})]}),e.jsxs("div",{className:"forminputcolumn",children:[e.jsxs("label",{children:[e.jsx("b",{children:"Số YCSX:"})," ",e.jsx("input",{type:"text",placeholder:"1F80008",value:h,onChange:a=>T(a.target.value)})]}),e.jsxs("label",{children:[e.jsx("b",{children:"Số chỉ thị:"})," ",e.jsx("input",{type:"text",placeholder:"A123456",value:x,onChange:a=>b(a.target.value)})]})]})]}),e.jsxs("div",{className:"formbutton",children:[e.jsxs("label",{children:[e.jsx("b",{children:"All Time:"}),e.jsx("input",{type:"checkbox",name:"alltimecheckbox",defaultChecked:s,onChange:()=>M(!s)})]}),e.jsx("button",{className:"tranhatky",onClick:()=>{d(!0),n(!1),A(l),Y()},children:"Tra lịch sử"})]})]}),e.jsx("div",{className:"tracuuYCSXTable",children:_&&e.jsx(Q,{sx:{fontSize:"0.7rem",flex:1},components:{Toolbar:L,LoadingOverlay:P},getRowId:a=>a.id,loading:j,rowHeight:30,rows:m,columns:l,rowsPerPageOptions:[5,10,50,100,500,1e3,5e3,1e4,5e5]})})]})})};export{B as default};
