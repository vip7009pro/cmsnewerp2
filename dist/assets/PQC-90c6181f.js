import{r as l,ai as o,j as e,aj as pe,I as q,ak as Ae,al as Se,ad as u,S as T,k as ge,am as Le,an as we,ao as ye,ap as Ye,aq as ve,ar as Ge,as as Qe,at as He,au as Ue,av as ke,aw as j,ax as Fe,ay as Ke,az as Be,aA as qe,aB as Ve,aC as We,aD as ze}from"./index-4ab6dde0.js";import{D as Xe,G as $e,b as Je}from"./DataGrid-b5e0acb2.js";import Ze from"./CODE_MANAGER-bea675bf.js";import"./TextField-db9fe3d0.js";import"./MenuItem-8199bc03.js";import"./Typography-b6d023f3.js";import"./GridToolbarFilterButton-ec6062d3.js";const ea=()=>{const[d,c]=l.useState(!1);l.useState({trapo:!0,thempohangloat:!1,them1po:!1,them1invoice:!1,themycsx:!1,suaycsx:!1,inserttableycsx:!1,renderycsx:!1,renderbanve:!1,amazontab:!1});const[_,r]=l.useState(!1),[S,w]=l.useState(o().format("YYYY-MM-DD")),[O,G]=l.useState(o().format("YYYY-MM-DD")),[C,V]=l.useState(""),[x,Z]=l.useState(""),[I,W]=l.useState(""),[p,ee]=l.useState(""),[M,Q]=l.useState(""),[P,ae]=l.useState(""),[b,H]=l.useState(""),[m,te]=l.useState(!1),[g,le]=l.useState(""),[R,se]=l.useState("All"),[y,Y]=l.useState([]),[U,z]=l.useState(""),v=[{field:"PQC1_ID",headerName:"PQC1_ID",width:80},{field:"YEAR_WEEK",headerName:"YEAR_WEEK",width:80},{field:"PROD_REQUEST_NO",headerName:"PROD_REQUEST_NO",width:80},{field:"PROD_REQUEST_QTY",headerName:"PROD_REQUEST_QTY",width:80},{field:"PROD_REQUEST_DATE",headerName:"PROD_REQUEST_DATE",width:80},{field:"PLAN_ID",headerName:"PLAN_ID",width:80},{field:"PROCESS_LOT_NO",headerName:"PROCESS_LOT_NO",width:80},{field:"G_NAME",headerName:"G_NAME",width:250},{field:"G_NAME_KD",headerName:"G_NAME_KD",width:120},{field:"LINEQC_PIC",headerName:"LINEQC_PIC",width:80},{field:"PROD_PIC",headerName:"PROD_PIC",width:80},{field:"PROD_LEADER",headerName:"PROD_LEADER",width:80},{field:"LINE_NO",headerName:"LINE_NO",width:80},{field:"STEPS",headerName:"STEPS",width:80},{field:"CAVITY",headerName:"CAVITY",width:80},{field:"SETTING_OK_TIME",type:"date",headerName:"SETTING_OK_TIME",width:180,renderCell:a=>e.jsx("span",{style:{color:"blue"},children:o.utc(a.row.SETTING_OK_TIME).format("YYYY-MM-DD HH:mm:ss")})},{field:"FACTORY",headerName:"FACTORY",width:80},{field:"INSPECT_SAMPLE_QTY",headerName:"SAMPLE_QTY",width:100},{field:"PROD_LAST_PRICE",headerName:"PRICE",width:80},{field:"SAMPLE_AMOUNT",headerName:"SAMPLE_AMOUNT",width:80,renderCell:a=>{var h;return e.jsx("span",{style:{color:"gray"},children:e.jsx("b",{children:(h=a.row.SAMPLE_AMOUNT)==null?void 0:h.toLocaleString("en-US",{style:"decimal",maximumFractionDigits:8})})})}},{field:"REMARK",headerName:"REMARK",width:80},{field:"INS_DATE",type:"date",headerName:"INS_DATE",width:180,renderCell:a=>e.jsx("span",{style:{color:"blue"},children:o.utc(a.row.INS_DATE).format("YYYY-MM-DD HH:mm:ss")})},{field:"UPD_DATE",type:"date",headerName:"UPD_DATE",width:180,renderCell:a=>e.jsx("span",{style:{color:"blue"},children:o.utc(a.row.UPD_DATE).format("YYYY-MM-DD HH:mm:ss")})}],k=[{field:"YEAR_WEEK",headerName:"YEAR_WEEK",width:80},{field:"PQC3_ID",headerName:"PQC3_ID",width:80},{field:"PQC1_ID",headerName:"PQC1_ID",width:80},{field:"CUST_NAME_KD",headerName:"CUST_NAME_KD",width:120},{field:"FACTORY",headerName:"FACTORY",width:80},{field:"PROD_REQUEST_NO",headerName:"PROD_REQUEST_NO",width:80},{field:"PROD_REQUEST_DATE",headerName:"PROD_REQUEST_DATE",width:80},{field:"PROCESS_LOT_NO",headerName:"PROCESS_LOT_NO",width:80},{field:"G_CODE",headerName:"G_CODE",width:80},{field:"G_NAME",headerName:"G_NAME",width:250},{field:"G_NAME_KD",headerName:"G_NAME_KD",width:120},{field:"PROD_LAST_PRICE",headerName:"PROD_LAST_PRICE",width:80},{field:"LINEQC_PIC",headerName:"LINEQC_PIC",width:80},{field:"PROD_PIC",headerName:"PROD_PIC",width:80},{field:"PROD_LEADER",headerName:"PROD_LEADER",width:80},{field:"LINE_NO",headerName:"LINE_NO",width:80},{field:"OCCURR_TIME",type:"date",headerName:"OCCURR_TIME",width:180},{field:"INSPECT_QTY",type:"number",headerName:"SL KT",width:80},{field:"DEFECT_QTY",type:"number",headerName:"SL NG",width:80},{field:"DEFECT_AMOUNT",type:"number",headerName:"DEFECT_AMOUNT",width:120},{field:"ERR_CODE",headerName:"ERR_CODE",width:80},{field:"DEFECT_PHENOMENON",headerName:"HIEN TUONG",width:150},{field:"DEFECT_IMAGE_LINK",headerName:"IMAGE LINK",width:80,renderCell:a=>{let h="/pqc/PQC3_"+(a.row.PQC3_ID+1)+".png";return e.jsx("span",{style:{color:"blue"},children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:h,children:"LINK"})})}},{field:"REMARK",headerName:"REMARK",width:120},{field:"WORST5",headerName:"WORST5",width:80},{field:"WORST5_MONTH",headerName:"WORST5_MONTH",width:80}],L=[{field:"KNIFE_FILM_ID",headerName:"ID",width:80},{field:"FACTORY_NAME",headerName:"FACTORY",width:80},{field:"NGAYBANGIAO",headerName:"NGAYBANGIAO",width:100,renderCell:a=>e.jsx("span",{style:{color:"blue"},children:o.utc(a.row.NGAYBANGIAO).format("YYYY-MM-DD")})},{field:"G_CODE",headerName:"G_CODE",width:80},{field:"G_NAME",headerName:"G_NAME",width:250},{field:"LOAIBANGIAO_PDP",headerName:"LOAIBANGIAO",width:80,renderCell:a=>{switch(a.row.LOAIBANGIAO_PDP){case"D":return e.jsx("span",{style:{color:"blue"},children:"DAO"});case"F":return e.jsx("span",{style:{color:"blue"},children:"FILM"});case"T":return e.jsx("span",{style:{color:"blue"},children:"TAI LIEU"});default:return e.jsx("span",{style:{color:"blue"},children:"N/A"})}}},{field:"LOAIPHATHANH",headerName:"LOAIPHATHANH",width:110,renderCell:a=>{switch(a.row.LOAIPHATHANH){case"PH":return e.jsx("span",{style:{color:"blue"},children:"PHAT HANH"});case"TH":return e.jsx("span",{style:{color:"blue"},children:"THU HOI"});default:return e.jsx("span",{style:{color:"blue"},children:"N/A"})}}},{field:"SOLUONG",headerName:"SOLUONG",width:80},{field:"SOLUONGOHP",headerName:"SOLUONGOHP",width:80},{field:"LYDOBANGIAO",headerName:"LYDOBANGIAO",width:120},{field:"PQC_EMPL_NO",headerName:"PQC_EMPL_NO",width:80},{field:"RND_EMPL_NO",headerName:"RND_EMPL_NO",width:80},{field:"SX_EMPL_NO",headerName:"SX_EMPL_NO",width:80},{field:"MA_DAO",headerName:"MA_DAO",width:100},{field:"REMARK",headerName:"REMARK",width:150}],de=[{field:"CNDB_DATE",type:"date",headerName:"CNDB_DATE",width:120},{field:"CNDB_NO",headerName:"CNDB_NO",width:80},{field:"CNDB_ENCODE",headerName:"CNDB_ENCODE",width:100},{field:"M_NAME",headerName:"M_NAME",width:150},{field:"DEFECT_NAME",headerName:"DEFECT_NAME",width:100},{field:"DEFECT_CONTENT",headerName:"DEFECT_CONTENT",width:150},{field:"REG_EMPL_NO",headerName:"REG_EMPL_NO",width:150},{field:"REMARK",headerName:"REMARK",width:80},{field:"M_NAME2",headerName:"M_NAME2",width:120},{field:"INS_DATE",type:"date",headerName:"INS_DATE",width:120,renderCell:a=>e.jsx("span",{style:{color:"blue"},children:o.utc(a.row.INS_DATE).format("YYYY-MM-DD HH:mm:ss")})},{field:"APPROVAL_STATUS",headerName:"APPROVAL_STATUS",width:120,renderCell:a=>a.row.APPROVAL_STATUS==="Y"?e.jsx("span",{style:{color:"green"},children:"Phê Duyệt"}):e.jsx("span",{style:{color:"red"},children:"Chưa duyệt"})},{field:"APPROVAL_EMPL",headerName:"APPROVAL_EMPL",width:120},{field:"APPROVAL_DATE",headerName:"APPROVAL_DATE",width:80,renderCell:a=>a.row.APPROVAL_DATE!==null?e.jsx("span",{style:{color:"blue"},children:o.utc(a.row.APPROVAL_DATE).format("YYYY-MM-DD HH:mm:ss")}):e.jsx("span",{style:{color:"red"},children:"Chưa duyệt"})},{field:"G_CODE",headerName:"G_CODE",width:80},{field:"G_NAME",headerName:"G_NAME",width:250}],[F,f]=l.useState(v);function A(){return e.jsxs($e,{children:[e.jsxs(q,{className:"buttonIcon",onClick:()=>{Ae(y,"Inspection Data Table")},children:[e.jsx(Se,{color:"green",size:25}),"SAVE"]}),e.jsx("span",{style:{fontWeight:"bold",fontSize:18,paddingLeft:20,color:"blue"},children:U}),e.jsx(Je,{})]})}const re=()=>{r(!0),u("trapqc1data",{ALLTIME:m,FROM_DATE:S,TO_DATE:O,CUST_NAME:p,PROCESS_LOT_NO:M,G_CODE:x,G_NAME:C,PROD_TYPE:P,EMPL_NAME:I,PROD_REQUEST_NO:b,ID:g,FACTORY:R}).then(a=>{if(a.data.tk_status!=="NG"){const h=a.data.data.map((N,D)=>({...N,PROD_DATETIME:o.utc(N.INS_DATE).format("YYYY-MM-DD HH:mm:ss"),INPUT_DATETIME:o.utc(N.UPD_DATE).format("YYYY-MM-DD HH:mm:ss"),id:D}));Y(h),c(!0),r(!1),T.fire("Thông báo","Đã load "+a.data.data.length+" dòng","success")}else T.fire("Thông báo","Nội dung: "+a.data.message,"error"),r(!1)}).catch(a=>{console.log(a)})},K=()=>{r(!0),u("trapqc3data",{ALLTIME:m,FROM_DATE:S,TO_DATE:O,CUST_NAME:p,PROCESS_LOT_NO:M,G_CODE:x,G_NAME:C,PROD_TYPE:P,EMPL_NAME:I,PROD_REQUEST_NO:b,ID:g,FACTORY:R}).then(a=>{if(a.data.tk_status!=="NG"){const h=a.data.data.map((N,D)=>({...N,OCCURR_TIME:o.utc(N.OCCURR_TIME).format("YYYY-MM-DD HH:mm:ss"),id:D}));Y(h),c(!0),r(!1),T.fire("Thông báo","Đã load "+a.data.data.length+" dòng","success")}else T.fire("Thông báo","Nội dung: "+a.data.message,"error"),r(!1)}).catch(a=>{console.log(a)})},ne=()=>{z(""),r(!0),u("traCNDB",{ALLTIME:m,FROM_DATE:S,TO_DATE:O,CUST_NAME:p,process_lot_no:M,G_CODE:x,G_NAME:C,PROD_TYPE:P,EMPL_NAME:I,PROD_REQUEST_NO:b}).then(a=>{if(a.data.tk_status!=="NG"){const h=a.data.data.map((N,D)=>({...N,CNDB_DATE:o.utc(N.CNDB_DATE).format("YYYY-MM-DD"),id:D}));Y(h),c(!0),r(!1),T.fire("Thông báo","Đã load "+a.data.data.length+" dòng","success")}else T.fire("Thông báo","Nội dung: "+a.data.message,"error"),r(!1)}).catch(a=>{console.log(a)})},B=()=>{z(""),r(!0),u("tradaofilm",{ALLTIME:m,FROM_DATE:S,TO_DATE:O,G_CODE:x,G_NAME:C,FACTORY:R}).then(a=>{if(a.data.tk_status!=="NG"){const h=a.data.data.map((N,D)=>({...N,id:D}));Y(h),c(!0),r(!1),T.fire("Thông báo","Đã load "+a.data.data.length+" dòng","success")}else T.fire("Thông báo","Nội dung: "+a.data.message,"error"),r(!1)}).catch(a=>{console.log(a)})};return l.useEffect(()=>{},[]),e.jsx("div",{className:"trapqc",children:e.jsxs("div",{className:"tracuuDataPqc",children:[e.jsxs("div",{className:"tracuuDataPQCform",children:[e.jsxs("div",{className:"forminput",children:[e.jsxs("div",{className:"forminputcolumn",children:[e.jsxs("label",{children:[e.jsx("b",{children:"Từ ngày:"}),e.jsx("input",{type:"date",value:S.slice(0,10),onChange:a=>w(a.target.value)})]}),e.jsxs("label",{children:[e.jsx("b",{children:"Tới ngày:"})," ",e.jsx("input",{type:"date",value:O.slice(0,10),onChange:a=>G(a.target.value)})]})]}),e.jsxs("div",{className:"forminputcolumn",children:[e.jsxs("label",{children:[e.jsx("b",{children:"Code KD:"})," ",e.jsx("input",{type:"text",placeholder:"GH63-xxxxxx",value:C,onChange:a=>V(a.target.value)})]}),e.jsxs("label",{children:[e.jsx("b",{children:"Code CMS:"})," ",e.jsx("input",{type:"text",placeholder:"7C123xxx",value:x,onChange:a=>Z(a.target.value)})]})]}),e.jsxs("div",{className:"forminputcolumn",children:[e.jsxs("label",{children:[e.jsx("b",{children:"Tên nhân viên:"})," ",e.jsx("input",{type:"text",placeholder:"Ten Line QC",value:I,onChange:a=>W(a.target.value)})]}),e.jsxs("label",{children:[e.jsx("b",{children:"Nhà máy:"}),e.jsxs("select",{name:"phanloai",value:R,onChange:a=>{se(a.target.value)},children:[e.jsx("option",{value:"All",children:"All"}),e.jsx("option",{value:"NM1",children:"NM1"}),e.jsx("option",{value:"NM2",children:"NM2"})]})]})]}),e.jsxs("div",{className:"forminputcolumn",children:[e.jsxs("label",{children:[e.jsx("b",{children:"Loại sản phẩm:"})," ",e.jsx("input",{type:"text",placeholder:"TSP",value:P,onChange:a=>ae(a.target.value)})]}),e.jsxs("label",{children:[e.jsx("b",{children:"Số YCSX:"})," ",e.jsx("input",{type:"text",placeholder:"1H23456",value:b,onChange:a=>H(a.target.value)})]})]}),e.jsxs("div",{className:"forminputcolumn",children:[e.jsxs("label",{children:[e.jsx("b",{children:"LOT SX:"})," ",e.jsx("input",{type:"text",placeholder:"ED2H3076",value:M,onChange:a=>Q(a.target.value)})]}),e.jsxs("label",{children:[e.jsx("b",{children:"ID:"})," ",e.jsx("input",{type:"text",placeholder:"12345",value:g,onChange:a=>le(a.target.value)})]})]})]}),e.jsxs("div",{className:"formbutton",children:[e.jsxs("label",{children:[e.jsx("b",{children:"All Time:"}),e.jsx("input",{type:"checkbox",name:"alltimecheckbox",defaultChecked:m,onChange:()=>te(!m)})]}),e.jsx("button",{className:"pqc1button",onClick:()=>{r(!0),c(!1),f(v),re()},children:"PQC1-Setting"}),e.jsx("button",{className:"pqc3button",onClick:()=>{r(!0),c(!1),f(k),K()},children:"PQC3-Defect"}),e.jsx("button",{className:"daofilmbutton",onClick:()=>{r(!0),c(!1),f(L),B()},children:"Dao-film-TL"}),e.jsx("button",{className:"lichsucndbbutton",onClick:()=>{r(!0),c(!1),f(de),ne()},children:"LS CNĐB"})]})]}),e.jsx("div",{className:"tracuuPQCTable",children:d&&e.jsx(Xe,{sx:{fontSize:12,flex:1},components:{Toolbar:A,LoadingOverlay:pe},loading:_,rowHeight:30,rows:y,columns:F,rowsPerPageOptions:[5,10,50,100,500,1e3,5e3,1e4,5e5],editMode:"row"})})]})})};const aa=()=>{var _e,Ne,Ee,Te,me,De,fe;l.useState([]);const d=ge(t=>t.totalSlice.userData);l.useState("NVL");const[c,_]=l.useState(""),[r,S]=l.useState(""),[w,O]=l.useState(""),[G,C]=l.useState(""),[V,x]=l.useState([]),[Z,I]=l.useState([]),[W,p]=l.useState(""),[ee,M]=l.useState(""),[Q,P]=l.useState(""),[ae,b]=l.useState(""),[H,m]=l.useState(""),[te,g]=l.useState(0),[le,R]=l.useState(0),[se,y]=l.useState(0),[Y,U]=l.useState(""),[z,v]=l.useState(""),[k,L]=l.useState("");l.useState(0),l.useState("");const[de,F]=l.useState(""),[f,A]=l.useState("");l.useState("");const[re,K]=l.useState(0),[ne,B]=l.useState(""),[a,h]=l.useState(!0);l.useState("6969");const[N,D]=l.useState((d==null?void 0:d.FACTORY_CODE)===1?"NM1":"NM2"),[ie,Oe]=l.useState([]),[n,oe]=l.useState([]),[Ce,X]=l.useState("CKT"),ce=t=>{u("checkktdtc",{PROCESS_LOT_NO:t}).then(s=>{s.data.tk_status!=="NG"&&s.data.data[0].TRANGTHAI!==null?X("DKT"):X("CKT")}).catch(s=>{console.log(s)})},xe=t=>{u("loadDataSX",{ALLTIME:!0,FROM_DATE:"",TO_DATE:"",PROD_REQUEST_NO:"",PLAN_ID:t,M_NAME:"",M_CODE:"",G_NAME:"",G_CODE:"",FACTORY:"ALL",PLAN_EQ:"ALL"}).then(s=>{if(s.data.tk_status!=="NG"){const i=s.data.data.map((E,Ie)=>({...E,PLAN_DATE:o.utc(E.PLAN_DATE).format("YYYY-MM-DD"),SETTING_START_TIME:E.SETTING_START_TIME===null?"":o.utc(E.SETTING_START_TIME).format("YYYY-MM-DD HH:mm:ss"),MASS_START_TIME:E.MASS_START_TIME===null?"":o.utc(E.MASS_START_TIME).format("YYYY-MM-DD HH:mm:ss"),MASS_END_TIME:E.MASS_END_TIME===null?"":o.utc(E.MASS_END_TIME).format("YYYY-MM-DD HH:mm:ss"),SX_DATE:E.SX_DATE===null?"":o.utc(E.SX_DATE).format("YYYY-MM-DD"),id:Ie}));oe(i),be(i)}else T.fire("Thông báo"," Có lỗi : "+s.data.message,"error")}).catch(s=>{console.log(s)})},Me=Le.useMemo(()=>e.jsxs("div",{className:"datatb",children:[e.jsxs("div",{className:"menubar",children:[e.jsxs(q,{className:"buttonIcon",onClick:()=>{h(t=>!t),x([])},children:[e.jsx(we,{color:"blue",size:25}),"Show/Hide Input"]}),e.jsx("span",{style:{fontSize:20,fontWeight:"bold"},children:"BẢNG NHẬP THÔNG TIN SETTING PQC"}),e.jsxs(q,{className:"buttonIcon",onClick:()=>{$(),h(!1)},children:[e.jsx(ye,{color:"red",size:25}),"Tra Data"]})]}),e.jsxs(Ye,{style:{fontSize:"0.7rem"},autoNavigateToFocusedRow:!0,allowColumnReordering:!0,allowColumnResizing:!0,columnAutoWidth:!1,cellHintEnabled:!0,columnResizingMode:"widget",showColumnLines:!0,dataSource:ie,columnWidth:"auto",keyExpr:"id",height:"70vh",showBorders:!0,onSelectionChanged:t=>{I(t.selectedRowsData)},onRowClick:t=>{},onRowUpdated:t=>{},children:[e.jsx(ve,{editOnKeyPress:!0,enterKeyAction:"moveFocus",enterKeyDirection:"column"}),e.jsx(Ge,{useNative:!1,scrollByContent:!0,scrollByThumb:!0,showScrollbar:"onHover",mode:"virtual"}),e.jsx(Qe,{mode:"multiple",selectAllMode:"allPages"}),e.jsx(He,{allowUpdating:!0,allowAdding:!0,allowDeleting:!1,mode:"cell",confirmDelete:!0,onChangesChange:t=>{}}),e.jsx(Ue,{enabled:!0}),e.jsxs(ke,{disabled:!1,children:[e.jsx(j,{location:"before",children:e.jsxs(q,{className:"buttonIcon",onClick:()=>{Ae(V,"SPEC DTC")},children:[e.jsx(Se,{color:"green",size:25}),"SAVE"]})}),e.jsx(j,{name:"searchPanel"}),e.jsx(j,{name:"exportButton"}),e.jsx(j,{name:"columnChooserButton"}),e.jsx(j,{name:"addRowButton"}),e.jsx(j,{name:"saveButton"}),e.jsx(j,{name:"revertButton"})]}),e.jsx(Fe,{visible:!0}),e.jsx(Ke,{visible:!0}),e.jsx(Be,{enabled:!0}),e.jsx(qe,{defaultPageSize:15}),e.jsx(Ve,{showPageSizeSelector:!0,allowedPageSizes:[5,10,15,20,100,1e3,1e4,"all"],showNavigationButtons:!0,showInfo:!0,infoText:"Page #{0}. Total: {1} ({2} items)",displayMode:"compact"}),e.jsx(We,{children:e.jsx(ze,{alignment:"right",column:"PQC1_ID",summaryType:"count",valueFormat:"decimal"})})]})]}),[ie]),$=()=>{u("trapqc1data",{ALLTIME:!1,FROM_DATE:o().add(-2,"day").format("YYYY-MM-DD"),TO_DATE:o().format("YYYY-MM-DD"),CUST_NAME:"",PROCESS_LOT_NO:"",G_CODE:"",G_NAME:"",PROD_TYPE:"",EMPL_NAME:"",PROD_REQUEST_NO:"",ID:"",FACTORY:(d==null?void 0:d.FACTORY_CODE)===1?"NM1":"NM2"}).then(t=>{if(t.data.tk_status!=="NG"){const s=t.data.data.map((i,E)=>({...i,INS_DATE:o.utc(i.INS_DATE).format("YYYY-MM-DD HH:mm:ss"),UPD_DATE:o.utc(i.UPD_DATE).format("YYYY-MM-DD HH:mm:ss"),SETTING_OK_TIME:o.utc(i.SETTING_OK_TIME).format("YYYY-MM-DD HH:mm:ss"),id:E}));Oe(s)}else T.fire("Thông báo","Nội dung: "+t.data.message,"error")}).catch(t=>{console.log(t)})},he=(t,s)=>{u("checkEMPL_NO_mobile",{EMPL_NO:s}).then(i=>{i.data.tk_status!=="NG"?t===1?p(i.data.data[0].MIDLAST_NAME+" "+i.data.data[0].FIRST_NAME):M(i.data.data[0].MIDLAST_NAME+" "+i.data.data[0].FIRST_NAME):(p(""),M(""))}).catch(i=>{console.log(i)})},ue=t=>{u("checkPLAN_ID",{PLAN_ID:t}).then(s=>{s.data.tk_status!=="NG"?(L(t),P(s.data.data[0].G_NAME),v(s.data.data[0].PROD_REQUEST_NO),F(s.data.data[0].PROD_REQUEST_DATE),b(s.data.data[0].G_CODE)):(v(""),P(""),F(""),b(""))}).catch(s=>{console.log(s)})},Pe=t=>{u("checkPROCESS_LOT_NO",{PROCESS_LOT_NO:t}).then(s=>{s.data.tk_status!=="NG"?(L(s.data.data[0].PLAN_ID),ue(s.data.data[0].PLAN_ID)):L("")}).catch(s=>{console.log(s)})},be=t=>{u("checkPlanIdP501",{PLAN_ID:t[0].PLAN_ID}).then(s=>{s.data.tk_status!=="NG"?(_(s.data.data[0].M_LOT_NO),J(s.data.data[0].M_LOT_NO),A(s.data.data[0].PROCESS_LOT_NO),ce(s.data.data[0].PROCESS_LOT_NO)):t[0].PROCESS_NUMBER===0?(_(""),A("")):u("checkProcessLotNo_Prod_Req_No",{PROD_REQUEST_NO:t[0].PROD_REQUEST_NO}).then(i=>{i.data.tk_status!=="NG"?(_(i.data.data[0].M_LOT_NO),J(i.data.data[0].M_LOT_NO),A(i.data.data[0].PROCESS_LOT_NO),ce(i.data.data[0].PROCESS_LOT_NO)):(_(""),A(""))}).catch(i=>{console.log(i)})}).catch(s=>{console.log(s)})},J=t=>{u("checkMNAMEfromLot",{M_LOT_NO:t}).then(s=>{s.data.tk_status!=="NG"?(m(s.data.data[0].M_NAME+" | "+s.data.data[0].WIDTH_CD),U(s.data.data[0].M_CODE),g(s.data.data[0].WIDTH_CD),R(s.data.data[0].OUT_CFM_QTY),y(s.data.data[0].ROLL_QTY),K(s.data.data[0].LIEUQL_SX===null?"0":s.data.data[0].LIEUQL_SX),B(s.data.data[0].OUT_DATE)):(m(""),U(""),g(0),y(0),R(0),K(0),B(""))}).catch(s=>{console.log(s)})},Re=()=>{u("insert_pqc1",{PROCESS_LOT_NO:f,LINEQC_PIC:r.toUpperCase(),PROD_PIC:n[0].INS_EMPL,PROD_LEADER:w.toUpperCase(),STEPS:n[0].STEP,CAVITY:n[0].CAVITY,SETTING_OK_TIME:n[0].MASS_START_TIME,FACTORY:n[0].PLAN_FACTORY,REMARK:Ce,PROD_REQUEST_NO:n[0].PROD_REQUEST_NO,G_CODE:n[0].G_CODE,PLAN_ID:n[0].PLAN_ID,PROCESS_NUMBER:n[0].PROCESS_NUMBER,LINE_NO:n[0].EQ_NAME_TT,REMARK2:G}).then(t=>{t.data.tk_status!=="NG"?$():T.fire("Cảnh báo","Có lỗi: "+t.data.message,"error")}).catch(t=>{console.log(t)})},je=()=>c!==""&&k!==""&&r!==""&&n.length!==0&&f!=="";return l.useEffect(()=>{$()},[]),e.jsx("div",{className:"pqc1",children:e.jsx("div",{className:"tracuuDataInspection",children:e.jsxs("div",{className:"maintable",children:[a&&e.jsxs("div",{className:"tracuuDataInspectionform",children:[e.jsx("b",{style:{color:"blue"},children:"NHẬP THÔNG TIN SETTING"}),e.jsxs("div",{className:"forminput",children:[e.jsxs("div",{className:"forminputcolumn",children:[e.jsx("b",{children:"FACTORY"}),e.jsx("label",{children:e.jsxs("select",{disabled:(d==null?void 0:d.EMPL_NO)==="NHU1903",name:"factory",value:N,onChange:t=>{D(t.target.value)},children:[e.jsx("option",{value:"NM1",children:"NM1"}),e.jsx("option",{value:"NM2",children:"NM2"})]})}),e.jsx("b",{children:"Số chỉ thị sản xuất"}),e.jsx("label",{children:e.jsx("input",{type:"text",placeholder:"1F80008A",value:k,onChange:t=>{t.target.value.length>=8?(ue(t.target.value),xe(t.target.value)):(oe([]),_(""),A("")),L(t.target.value)}})}),e.jsx("b",{children:"Mã LINEQC"}),e.jsx("label",{children:e.jsx("input",{type:"text",placeholder:"NVD1201",value:r,onChange:t=>{t.target.value.length>=7&&he(1,t.target.value),S(t.target.value)}})}),r&&e.jsx("span",{style:{fontSize:15,fontWeight:"bold",color:"blue"},children:W}),e.jsx("b",{children:"Mã Leader SX"}),e.jsx("label",{children:e.jsx("input",{type:"text",placeholder:"NVD1201",value:w,onChange:t=>{t.target.value.length>=7&&he(2,t.target.value),O(t.target.value)}})}),w&&e.jsx("span",{style:{fontSize:15,fontWeight:"bold",color:"blue"},children:ee})]}),e.jsx("b",{children:"Remark"}),e.jsx("div",{className:"forminputcolumn",children:e.jsx("label",{children:e.jsx("input",{type:"text",placeholder:"Ghi chú",value:G,onChange:t=>{C(t.target.value)}})})})]}),e.jsx("div",{className:"formbutton",children:e.jsx("button",{className:"tranhatky",onClick:()=>{je()?Re():T.fire("Thông báo","Hãy nhập đủ thông tin trước khi input","error")},children:"Input Data"})}),e.jsx("div",{className:"formbutton",style:{marginTop:"20px",display:"flex",flexWrap:"wrap"}})]}),a&&e.jsxs("div",{className:"tracuuDataInspectionform2",children:[e.jsx("b",{style:{color:"blue"},children:"THÔNG TIN CHỈ THỊ"}),e.jsx("div",{className:"forminput",children:e.jsxs("div",{className:"forminputcolumn",children:[e.jsx("b",{style:{color:"gray"},children:"LOT sản xuất"}),e.jsx("label",{children:e.jsx("input",{disabled:!0,type:"text",value:f,onChange:t=>{t.target.value.length>=7&&Pe(t.target.value),A(t.target.value)}})}),Q&&e.jsx("span",{style:{fontSize:15,fontWeight:"bold",color:"blue"},children:Q}),e.jsx("b",{style:{color:"gray"},children:"LOT NVL CMS"}),e.jsx("label",{children:e.jsx("input",{disabled:!0,type:"text",value:c,onChange:t=>{t.target.value.length>=7&&J(t.target.value),_(t.target.value)}})}),H&&e.jsx("span",{style:{fontSize:15,fontWeight:"bold",color:"blue"},children:H}),e.jsx("b",{style:{color:"gray"},children:"LINE NO"}),e.jsx("label",{children:e.jsx("input",{disabled:!0,type:"text",value:n[0]!==void 0?(_e=n[0])==null?void 0:_e.EQ_NAME_TT:"",onChange:t=>{}})}),e.jsx("b",{style:{color:"gray"},children:"PROCESS_NUMBER (Công đoạn)"}),e.jsx("label",{children:e.jsx("input",{disabled:!0,type:"text",value:n[0]!==void 0?(Ne=n[0])==null?void 0:Ne.PROCESS_NUMBER:"",onChange:t=>{}})}),e.jsx("b",{style:{color:"gray"},children:"STEP"}),e.jsx("label",{children:e.jsx("input",{disabled:!0,type:"text",value:n[0]!==void 0?(Ee=n[0])==null?void 0:Ee.STEP:"",onChange:t=>{}})}),e.jsx("b",{style:{color:"gray"},children:"PD"}),e.jsx("label",{children:e.jsx("input",{disabled:!0,type:"text",value:n[0]!==void 0?(Te=n[0])==null?void 0:Te.PD:"",onChange:t=>{}})}),e.jsx("b",{style:{color:"gray"},children:"CAVITY"}),e.jsx("label",{children:e.jsx("input",{disabled:!0,type:"text",value:n[0]!==void 0?(me=n[0])==null?void 0:me.CAVITY:"",onChange:t=>{}})}),e.jsx("b",{style:{color:"gray"},children:"SETTING_OK_TIME"}),e.jsx("label",{children:e.jsx("input",{disabled:!0,type:"text",value:n[0]!==void 0?(De=n[0])==null?void 0:De.MASS_START_TIME:"",onChange:t=>{}})}),e.jsx("b",{style:{color:"gray"},children:"Mã CNSX"}),e.jsx("label",{children:e.jsx("input",{disabled:!0,type:"text",value:n[0]!==void 0?(fe=n[0])==null?void 0:fe.INS_EMPL:"",onChange:t=>{}})})]})}),e.jsx("div",{className:"formbutton",style:{marginTop:"20px",display:"flex",flexWrap:"wrap"}})]}),e.jsx("div",{className:"tracuuYCSXTable",style:{width:a?"65vw":"99vw"},children:Me})]})})})},oa=()=>{const[d,c]=l.useState({tab1:!1,tab2:!0,tab3:!1}),_=r=>{r===1?c({...d,tab1:!0,tab2:!1,tab3:!1,tab4:!1,tab5:!1}):r===2?c({...d,tab1:!1,tab2:!0,tab3:!1,tab4:!1,tab5:!1}):r===3?c({...d,tab1:!1,tab2:!1,tab3:!0,tab4:!1,tab5:!1}):r===4?c({...d,tab1:!1,tab2:!1,tab3:!1,tab4:!0,tab5:!1}):r===5&&c({...d,tab1:!1,tab2:!1,tab3:!1,tab4:!1,tab5:!0})};return l.useEffect(()=>{},[]),e.jsxs("div",{className:"pqc",children:[e.jsxs("div",{className:"mininavbar",children:[e.jsx("div",{className:"mininavitem",onClick:()=>_(2),style:{backgroundColor:d.tab2===!0?"#02c712":"#abc9ae",color:(d.tab2===!0,"yellow")},children:e.jsx("span",{className:"mininavtext",children:"Data PQC"})}),e.jsx("div",{className:"mininavitem",onClick:()=>_(3),style:{backgroundColor:d.tab3===!0?"#02c712":"#abc9ae",color:(d.tab3===!0,"yellow")},children:e.jsx("span",{className:"mininavtext",children:"PQC1-SETTING"})}),e.jsx("div",{className:"mininavitem",onClick:()=>_(4),style:{backgroundColor:d.tab4===!0?"#02c712":"#abc9ae",color:(d.tab4===!0,"yellow")},children:e.jsx("span",{className:"mininavtext",children:"PQC3-DEFECT"})}),e.jsx("div",{className:"mininavitem",onClick:()=>_(1),style:{backgroundColor:d.tab1===!0?"#02c712":"#abc9ae",color:(d.tab1===!0,"yellow")},children:e.jsx("span",{className:"mininavtext",children:"CODE INFO"})})]}),d.tab2&&e.jsx("div",{className:"trapqc",children:e.jsx(ea,{})}),d.tab3&&e.jsx("div",{className:"trapqc",children:e.jsx(aa,{})}),d.tab1&&e.jsx("div",{className:"trapqc",children:e.jsx(Ze,{})}),d.tab3&&e.jsx("div",{className:"report"})]})};export{oa as default};
