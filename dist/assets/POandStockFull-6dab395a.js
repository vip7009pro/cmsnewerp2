import{r as n,j as e,aj as A,I as w,ak as K,al as P,ad as _,S as h}from"./index-4ab6dde0.js";import{I as U}from"./INSPECTION-0f9b132a.js";import{K as H}from"./KHOTP-45755570.js";import v from"./KHOLIEU-ed4cd0a2.js";import{D as I,G as k,b as B}from"./DataGrid-b5e0acb2.js";import{G as D,a as G,b as M}from"./GridToolbarFilterButton-ec6062d3.js";import"./TextField-db9fe3d0.js";import"./MenuItem-8199bc03.js";import"./Typography-b6d023f3.js";const J=()=>{const[o,N]=n.useState({PO_BALANCE:0,TP:0,BTP:0,CK:0,BLOCK:0,TONG_TON:0,THUATHIEU:0}),[r,s]=n.useState({trapo:!0,thempohangloat:!1,them1po:!1,them1invoice:!1,testinvoicetable:!1,kholieu:!1}),[O,i]=n.useState(!1),[u,j]=n.useState(""),[d,p]=n.useState(!0),[T,C]=n.useState([]),b=[{field:"id",headerName:"No",width:80},{field:"G_CODE",headerName:"G_CODE",width:80},{field:"G_NAME",headerName:"G_NAME",width:150},{field:"G_NAME_KD",headerName:"G_NAME_KD",width:170},{field:"PO_QTY",type:"number",headerName:"PO_QTY",width:80,renderCell:l=>e.jsx("span",{style:{color:"blue"},children:e.jsx("b",{children:l.row.PO_QTY.toLocaleString("en-US")})})},{field:"TOTAL_DELIVERED",type:"number",headerName:"TOTAL_DELIVERED",width:80,renderCell:l=>e.jsx("span",{style:{color:"blue"},children:e.jsx("b",{children:l.row.TOTAL_DELIVERED.toLocaleString("en-US")})})},{field:"PO_BALANCE",type:"number",headerName:"PO_BALANCE",width:90,renderCell:l=>e.jsx("span",{style:{color:"red"},children:e.jsx("b",{children:l.row.PO_BALANCE.toLocaleString("en-US")})})},{field:"CHO_KIEM",type:"number",headerName:"CHO_KIEM",width:90,renderCell:l=>e.jsx("span",{style:{color:"blue"},children:e.jsx("b",{children:l.row.CHO_KIEM.toLocaleString("en-US")})})},{field:"CHO_CS_CHECK",type:"number",headerName:"CS",width:90,renderCell:l=>e.jsx("span",{style:{color:"blue"},children:e.jsx("b",{children:l.row.CHO_CS_CHECK.toLocaleString("en-US")})})},{field:"CHO_KIEM_RMA",type:"number",headerName:"RMA",width:90,renderCell:l=>e.jsx("span",{style:{color:"blue"},children:e.jsx("b",{children:l.row.CHO_KIEM_RMA.toLocaleString("en-US")})})},{field:"TONG_TON_KIEM",type:"number",headerName:"Total TKiem",width:110,renderCell:l=>e.jsx("span",{style:{color:"black"},children:e.jsx("b",{children:l.row.TONG_TON_KIEM.toLocaleString("en-US")})})},{field:"BTP",type:"number",headerName:"BTP",width:90,renderCell:l=>e.jsx("span",{style:{color:"black"},children:e.jsx("b",{children:l.row.BTP.toLocaleString("en-US")})})},{field:"TON_TP",type:"number",headerName:"TON_TP",width:90,renderCell:l=>e.jsx("span",{style:{color:"black"},children:e.jsx("b",{children:l.row.TON_TP.toLocaleString("en-US")})})},{field:"BLOCK_QTY",type:"number",headerName:"BLOCK_QTY",width:90,renderCell:l=>e.jsx("span",{style:{color:"blue"},children:e.jsx("b",{children:l.row.BLOCK_QTY.toLocaleString("en-US")})})},{field:"GRAND_TOTAL_STOCK",headerName:"GRAND_TOTAL_STOCK",width:90,renderCell:l=>e.jsx("span",{style:{color:"green"},children:e.jsx("b",{children:l.row.GRAND_TOTAL_STOCK.toLocaleString("en-US")})})},{field:"THUA_THIEU",type:"number",headerName:"THUA_THIEU",width:120,renderCell:l=>e.jsx("span",{style:{color:"black"},children:e.jsx("b",{children:l.row.THUA_THIEU.toLocaleString("en-US")})})}],S=[{field:"id",headerName:"No",width:80},{field:"G_NAME_KD",headerName:"G_NAME_KD",width:170},{field:"PO_QTY",type:"number",headerName:"PO_QTY",width:80,renderCell:l=>e.jsx("span",{style:{color:"blue"},children:e.jsx("b",{children:l.row.PO_QTY.toLocaleString("en-US")})})},{field:"TOTAL_DELIVERED",type:"number",headerName:"TOTAL_DELIVERED",width:80,renderCell:l=>e.jsx("span",{style:{color:"blue"},children:e.jsx("b",{children:l.row.TOTAL_DELIVERED.toLocaleString("en-US")})})},{field:"PO_BALANCE",type:"number",headerName:"PO_BALANCE",width:90,renderCell:l=>e.jsx("span",{style:{color:"red"},children:e.jsx("b",{children:l.row.PO_BALANCE.toLocaleString("en-US")})})},{field:"CHO_KIEM",type:"number",headerName:"CHO_KIEM",width:90,renderCell:l=>e.jsx("span",{style:{color:"blue"},children:e.jsx("b",{children:l.row.CHO_KIEM.toLocaleString("en-US")})})},{field:"CHO_CS_CHECK",type:"number",headerName:"CHO_CS_CHECK",width:90,renderCell:l=>e.jsx("span",{style:{color:"blue"},children:e.jsx("b",{children:l.row.CHO_CS_CHECK.toLocaleString("en-US")})})},{field:"CHO_KIEM_RMA",type:"number",headerName:"CHO_KIEM_RMA",width:90,renderCell:l=>e.jsx("span",{style:{color:"blue"},children:e.jsx("b",{children:l.row.CHO_KIEM_RMA.toLocaleString("en-US")})})},{field:"TONG_TON_KIEM",type:"number",headerName:"Total TKiem",width:90,renderCell:l=>e.jsx("span",{style:{color:"black"},children:e.jsx("b",{children:l.row.TONG_TON_KIEM.toLocaleString("en-US")})})},{field:"BTP",type:"number",headerName:"BTP",width:90,renderCell:l=>e.jsx("span",{style:{color:"black"},children:e.jsx("b",{children:l.row.BTP.toLocaleString("en-US")})})},{field:"TON_TP",type:"number",headerName:"TON_TP",width:90,renderCell:l=>e.jsx("span",{style:{color:"black"},children:e.jsx("b",{children:l.row.TON_TP.toLocaleString("en-US")})})},{field:"BLOCK_QTY",type:"number",headerName:"BLOCK_QTY",width:90,renderCell:l=>e.jsx("span",{style:{color:"blue"},children:e.jsx("b",{children:l.row.BLOCK_QTY.toLocaleString("en-US")})})},{field:"GRAND_TOTAL_STOCK",type:"number",headerName:"GRAND_TOTAL_STOCK",width:90,renderCell:l=>e.jsx("span",{style:{color:"green"},children:e.jsx("b",{children:l.row.GRAND_TOTAL_STOCK.toLocaleString("en-US")})})},{field:"THUA_THIEU",type:"number",headerName:"THUA_THIEU",width:90,renderCell:l=>e.jsx("span",{style:{color:"blue"},children:e.jsx("b",{children:l.row.THUA_THIEU.toLocaleString("en-US")})})}],[f,x]=n.useState(b);function L(){return e.jsxs(k,{children:[e.jsx(D,{}),e.jsx(G,{}),e.jsx(M,{}),e.jsxs(w,{className:"buttonIcon",onClick:()=>{K(T,"Ton kho full Table")},children:[e.jsx(P,{color:"green",size:25}),"SAVE"]}),e.jsx(B,{})]})}const E=()=>{i(!0),x(b),_("traPOFullCMS",{allcode:d,codeSearch:u}).then(l=>{let a={PO_BALANCE:0,TP:0,BTP:0,CK:0,BLOCK:0,TONG_TON:0,THUATHIEU:0};if(l.data.tk_status!=="NG"){const m=l.data.data.map((t,g)=>(a.PO_BALANCE+=t.PO_BALANCE,a.TP+=t.TON_TP,a.BTP+=t.BTP,a.CK+=t.TONG_TON_KIEM,a.BLOCK+=t.BLOCK_QTY,a.TONG_TON+=t.GRAND_TOTAL_STOCK,a.THUATHIEU+=t.THUA_THIEU<0?t.THUA_THIEU:0,{...t,id:g}));N(a),C(m),i(!1),h.fire("Thông báo","Đã load "+l.data.data.length+" dòng","success")}else h.fire("Thông báo","Nội dung: "+l.data.message,"error"),i(!1)}).catch(l=>{console.log(l)})},y=()=>{i(!0),x(S),_("traPOFullKD",{allcode:d,codeSearch:u}).then(l=>{if(l.data.tk_status!=="NG"){const a=l.data.data.map((m,t)=>({...m,id:t}));C(a),i(!1),h.fire("Thông báo","Đã load "+l.data.data.length+" dòng","success")}else h.fire("Thông báo","Nội dung: "+l.data.message,"error"),i(!1)}).catch(l=>{console.log(l)})},c=l=>{l===1?s({...r,trapo:!0,thempohangloat:!1,them1po:!1,them1invoice:!1,testinvoicetable:!1,kholieu:!1}):l===2?s({...r,trapo:!1,thempohangloat:!0,them1po:!1,them1invoice:!1,testinvoicetable:!1,kholieu:!1}):l===3?s({...r,trapo:!1,thempohangloat:!1,them1po:!1,them1invoice:!1,testinvoicetable:!0,kholieu:!1}):l===4&&s({...r,trapo:!1,thempohangloat:!1,them1po:!1,them1invoice:!1,testinvoicetable:!1,kholieu:!0})};return n.useEffect(()=>{},[]),e.jsxs("div",{className:"poandstockfull",children:[e.jsxs("div",{className:"mininavbar",children:[e.jsx("div",{className:"mininavitem",onClick:()=>c(1),style:{backgroundColor:r.trapo===!0?"#02c712":"#abc9ae",color:(r.trapo===!0,"yellow")},children:e.jsx("span",{className:"mininavtext",children:"PO+TK FULL"})}),e.jsx("div",{className:"mininavitem",onClick:()=>c(2),style:{backgroundColor:r.thempohangloat===!0?"#02c712":"#abc9ae",color:(r.thempohangloat===!0,"yellow")},children:e.jsx("span",{className:"mininavtext",children:"Phòng Kiểm Tra"})}),e.jsx("div",{className:"mininavitem",onClick:()=>c(3),style:{backgroundColor:r.testinvoicetable===!0?"#02c712":"#abc9ae",color:(r.testinvoicetable===!0,"yellow")},children:e.jsx("span",{className:"mininavtext",children:"Kho Thành Phẩm"})}),e.jsx("div",{className:"mininavitem",onClick:()=>c(4),style:{backgroundColor:r.kholieu===!0?"#02c712":"#abc9ae",color:(r.kholieu===!0,"yellow")},children:e.jsx("span",{className:"mininavtext",children:"Kho Liệu"})})]}),r.trapo&&e.jsxs("div",{className:"tracuuFcst",children:[e.jsx("div",{className:"tracuuFcstform",children:e.jsxs("div",{className:"forminput",children:[e.jsxs("div",{className:"forminputcolumn",children:[e.jsxs("label",{children:[e.jsx("b",{children:"Code:"})," ",e.jsx("input",{type:"text",placeholder:"Nhập code vào đây",value:u,onChange:l=>j(l.target.value)})]}),e.jsxs("label",{children:[e.jsx("b",{children:"Chỉ code tồn PO"}),e.jsx("input",{type:"checkbox",name:"alltimecheckbox",defaultChecked:d,onChange:()=>p(!d)})]}),e.jsx("button",{className:"tranhapkiembutton",onClick:()=>{E()},children:"Search(CMS)"}),e.jsx("button",{className:"traxuatkiembutton",onClick:()=>{y()},children:"Search(KD)"})]}),e.jsx("div",{className:"forminputcolumn",children:e.jsxs("table",{children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("td",{children:"PO BALANCE"}),e.jsx("td",{children:"TP"}),e.jsx("td",{children:"BTP"}),e.jsx("td",{children:"CK"}),e.jsx("td",{children:"BLOCK"}),e.jsx("td",{children:"TONG TON"}),e.jsx("td",{children:"THUA THIEU"})]})}),e.jsx("tbody",{children:e.jsxs("tr",{children:[e.jsx("td",{style:{color:"blue"},children:o.PO_BALANCE.toLocaleString("en-US")}),e.jsx("td",{style:{color:"purple"},children:o.TP.toLocaleString("en-US")}),e.jsx("td",{style:{color:"purple"},children:o.BTP.toLocaleString("en-US")}),e.jsx("td",{style:{color:"purple"},children:o.CK.toLocaleString("en-US")}),e.jsx("td",{style:{color:"red"},children:o.BLOCK.toLocaleString("en-US")}),e.jsx("td",{style:{color:"blue",fontWeight:"bold"},children:o.TONG_TON.toLocaleString("en-US")}),e.jsx("td",{style:{color:"brown",fontWeight:"bold"},children:o.THUATHIEU.toLocaleString("en-US")})]})})]})})]})}),e.jsx("div",{className:"tracuuFcstTable",children:e.jsx(I,{components:{Toolbar:L,LoadingOverlay:A},sx:{fontSize:"0.7rem"},loading:O,rowHeight:30,rows:T,columns:f,rowsPerPageOptions:[5,10,50,100,500,1e3,5e3,1e4,1e5],editMode:"row"})})]}),r.thempohangloat&&e.jsx("div",{className:"inspection",children:e.jsx(U,{})}),r.testinvoicetable&&e.jsx("div",{className:"inspection",children:e.jsx(H,{})}),r.kholieu&&e.jsx("div",{className:"inspection",children:e.jsx(v,{})})]})};export{J as default};
