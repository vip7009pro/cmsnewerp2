import{bm as U,c as D,bB as P,f as v,i as B,aI as R,bG as K,aK as Y,r as f,j as e,ag as E,ad as T,ai as S,S as b,aj as F,I as G,ak as W,al as M}from"./index-4ab6dde0.js";import{C as j,a as y,X as p,L as A,Y as _,T as L,b as C,B as m,i as z}from"./ComposedChart-cf350085.js";import{D as Q,G as V,b as $}from"./DataGrid-b5e0acb2.js";import{e as H,c as q,d as X,i as J,a as Z,o as ee,h as te,g as ae}from"./TextField-db9fe3d0.js";function re(s,i){return()=>null}function oe(s,i){return()=>null}function ne(s,i,c,d,u){return null}const se={configure:s=>{U.configure(s)}},le=Object.freeze(Object.defineProperty({__proto__:null,capitalize:D,createChainedFunction:H,createSvgIcon:q,debounce:X,deprecatedPropType:re,isMuiElement:J,ownerDocument:Z,ownerWindow:ee,requirePropFactory:oe,setRef:P,unstable_ClassNameGenerator:se,unstable_useEnhancedEffect:v,unstable_useId:te,unsupportedProp:ne,useControlled:ae,useEventCallback:B,useForkRef:R,useIsFocusVisible:K},Symbol.toStringTag,{value:"Module"}));var O={};const ie=Y(le);var k;function ce(){return k||(k=1,function(s){Object.defineProperty(s,"__esModule",{value:!0}),Object.defineProperty(s,"default",{enumerable:!0,get:function(){return i.createSvgIcon}});var i=ie}(O)),O}const be=()=>{const[s,i]=f.useState([]),c=a=>new Intl.NumberFormat("en",{notation:"compact",compactDisplay:"short"}).format(a),d=({active:a,payload:r,label:t})=>a&&r&&r.length?e.jsxs("div",{className:"custom-tooltip",style:{backgroundImage:"linear-gradient(to right, #ccffff, #00cccc)",padding:20,borderRadius:5},children:[e.jsxs("p",{children:[t,":"]}),e.jsxs("p",{className:"label",children:["QTY: ",`${r[0].value.toLocaleString("en-US")}`," EA"]})]}):null,u=()=>{T("kd_runningpobalance",{YEAR:S().format("YYYY")}).then(a=>{if(a.data.tk_status!=="NG"){const r=a.data.data.map((t,o)=>{let n=t.RUNNING_DEL_QTY===0?a.data.data[o-1].RUNNING_DEL_QTY:t.RUNNING_DEL_QTY;return{...t,RUNNING_DEL_QTY:n,RUNNING_PO_BALANCE:t.RUNNING_PO_QTY-n}});i(r)}else b.fire("Thông báo","Nội dung: "+a.data.message,"error")}).catch(a=>{console.log(a)})};return f.useEffect(()=>{u()},[]),e.jsx(E,{children:e.jsxs(j,{width:500,height:300,data:s,margin:{top:5,right:30,left:20,bottom:5},children:["          ",e.jsx(y,{strokeDasharray:"3 3",className:"chartGrid"}),e.jsxs(p,{dataKey:"YEAR_WEEK",children:[" ",e.jsx(A,{value:"Tuần",offset:0,position:"insideBottom"})]}),e.jsx(_,{yAxisId:"left-axis",label:{value:"Số lượng",angle:-90,position:"insideLeft"},tickFormatter:a=>new Intl.NumberFormat("en",{notation:"compact",compactDisplay:"short"}).format(a)}),e.jsx(L,{content:e.jsx(d,{})}),e.jsx(C,{}),e.jsx(m,{yAxisId:"left-axis",type:"monotone",dataKey:"RUNNING_PO_BALANCE",stroke:"white",fill:"#00b3b3",label:{position:"top",formatter:c}})]})})},xe=()=>{const[s,i]=f.useState([]),c=a=>new Intl.NumberFormat("en",{notation:"compact",compactDisplay:"short"}).format(a),d=({active:a,payload:r,label:t})=>{var o,n,g,l,h,N;return a&&r&&r.length?e.jsxs("div",{className:"custom-tooltip",style:{backgroundImage:"linear-gradient(to right, #ccffff, #00cccc)",padding:20,borderRadius:5},children:[e.jsxs("p",{children:[t,":"]}),e.jsxs("p",{className:"label",children:["QTY Tuần Trước: ",`${(((o=r[0])==null?void 0:o.value)+((n=r[1])==null?void 0:n.value)+((g=r[2])==null?void 0:g.value)).toLocaleString("en-US")}`," EA"]}),e.jsxs("p",{className:"label",children:["QTY Tuần Này: ",`${(((l=r[3])==null?void 0:l.value)+((h=r[4])==null?void 0:h.value)+((N=r[5])==null?void 0:N.value)).toLocaleString("en-US")}`," EA"]})]}):null},u=async()=>{let a=S().add(1,"days").isoWeek(),r=S().year(),t=S().add(1,"days").isoWeek()-1,o=S().year();await T("checklastfcstweekno",{FCSTWEEKNO:r}).then(n=>{n.data.tk_status!=="NG"?(a=n.data.data[0].FCSTWEEKNO,console.log(n.data.data)):b.fire("Thông báo","Nội dung: "+n.data.message,"error")}).catch(n=>{console.log(n)}),a===1?(t=52,o=r-1):a===0?(a=1,t=52,o=r-1):t=a-1,console.log("fcst week 1",t),console.log("fcst week 2",a),T("baocaofcstss",{FCSTYEAR1:o,FCSTYEAR2:r,FCSTWEEKNUM1:t,FCSTWEEKNUM2:a}).then(n=>{if(n.data.tk_status!=="NG"){const g=n.data.data.map((l,h)=>({...l,WEEKNO:a+h>52?"W"+(a+h-52-1===0?52:1)+"_W"+(a+h-52):"W"+(a+h-1)+"_W"+(a+h)}));g[0].TT_SS1!==null&&g[0].TT_SS2!==null?i(g.splice(0,15)):T("baocaofcstss",{FCSTYEAR1:t-1===0?o-1:o,FCSTYEAR2:r,FCSTWEEKNUM1:t-1===0?52:t-1,FCSTWEEKNUM2:a-1===0?1:a-1}).then(l=>{if(l.data.tk_status!=="NG"){const h=l.data.data.map((N,x)=>({...N,WEEKNO:a+x>52?"W"+(a+x-52-1===0?52:1)+"_W"+(a+x-52):"W"+(a+x-1)+"_W"+(a+x)}));i(h.splice(0,15))}else b.fire("Thông báo","Nội dung: "+l.data.message,"error")}).catch(l=>{console.log(l)})}else b.fire("Thông báo","Nội dung: "+n.data.message,"error")}).catch(n=>{console.log(n)})};return f.useEffect(()=>{u()},[]),e.jsx(E,{children:e.jsxs(j,{width:500,height:300,data:s,margin:{top:5,right:30,left:20,bottom:5},children:[" ",e.jsx(y,{strokeDasharray:"3 3",className:"chartGrid"}),e.jsxs(p,{dataKey:"WEEKNO",children:[" ",e.jsx(A,{value:"Tuần",offset:0,position:"insideBottom"})]}),e.jsx(_,{yAxisId:"left-axis",label:{value:"Số lượng",angle:-90,position:"insideLeft"},tickFormatter:a=>new Intl.NumberFormat("en",{notation:"compact",compactDisplay:"short"}).format(a),tickCount:12}),e.jsx(L,{content:e.jsx(d,{})}),e.jsx(C,{}),e.jsx(m,{yAxisId:"left-axis",type:"monotone",dataKey:"SEVT1",stroke:"white",fill:"#44cc00",stackId:"ss1"}),e.jsx(m,{yAxisId:"left-axis",type:"monotone",dataKey:"SEV1",stroke:"white",fill:"#ff80ff",stackId:"ss1"}),e.jsx(m,{yAxisId:"left-axis",type:"monotone",dataKey:"SAMSUNG_ASIA1",stroke:"white",fill:"#4d94ff",stackId:"ss1",label:{position:"top",formatter:c}}),e.jsx(m,{yAxisId:"left-axis",type:"monotone",dataKey:"SEVT2",stroke:"white",fill:"#44cc00",stackId:"ss2"}),e.jsx(m,{yAxisId:"left-axis",type:"monotone",dataKey:"SEV2",stroke:"white",fill:"#ff80ff",stackId:"ss2"}),e.jsx(m,{yAxisId:"left-axis",type:"monotone",dataKey:"SAMSUNG_ASIA2",stroke:"white",fill:"#4d94ff",stackId:"ss2",label:{position:"top",formatter:c}})]})})},Ne=()=>{const[s,i]=f.useState([]),c=a=>new Intl.NumberFormat("en",{notation:"compact",compactDisplay:"short"}).format(a),d=({active:a,payload:r,label:t})=>a&&r&&r.length?e.jsxs("div",{className:"custom-tooltip",style:{backgroundImage:"linear-gradient(to right, #ccffff, #00cccc)",padding:20,borderRadius:5},children:[e.jsxs("p",{children:["W",t,":"]}),e.jsxs("p",{className:"label",children:["BALANCE QTY: ",`${r[0].value.toLocaleString("en-US")}`," EA"]})]}):null,u=()=>{T("kd_weeklyclosing",{YEAR:S().format("YYYY")}).then(a=>{if(a.data.tk_status!=="NG"){const r=a.data.data.map((t,o)=>({...t}));i(r)}else b.fire("Thông báo","Nội dung: "+a.data.message,"error")}).catch(a=>{console.log(a)})};return f.useEffect(()=>{u()},[]),e.jsx(E,{children:e.jsxs(j,{width:500,height:300,data:s,margin:{top:5,right:30,left:20,bottom:5},children:[e.jsx(y,{strokeDasharray:"3 3",className:"chartGrid"}),e.jsx(p,{dataKey:"DEL_WEEK",children:e.jsx(A,{value:"Tuần",offset:0,position:"insideBottom"})}),e.jsx(_,{yAxisId:"left-axis",label:{value:"Số lượng",angle:-90,position:"insideLeft"},tickFormatter:a=>new Intl.NumberFormat("en",{notation:"compact",compactDisplay:"short"}).format(a),tickCount:7}),e.jsx(L,{content:e.jsx(d,{})}),e.jsx(C,{}),e.jsx(m,{yAxisId:"left-axis",type:"monotone",dataKey:"DELIVERY_QTY",stroke:"#804d00",fill:"#77b300",label:{position:"top",formatter:c}})]})})},Ee=()=>{const[s,i]=f.useState([]),c=a=>new Intl.NumberFormat("en",{notation:"compact",compactDisplay:"short"}).format(a),d=({active:a,payload:r,label:t})=>a&&r&&r.length?e.jsxs("div",{className:"custom-tooltip",style:{backgroundImage:"linear-gradient(to right, #ccffff, #00cccc)",padding:20,borderRadius:5},children:[e.jsxs("p",{children:[t,":"]}),e.jsxs("p",{className:"label",children:["QTY: ",`${r[0].value.toLocaleString("en-US")}`," EA"]})]}):null,u=()=>{T("kd_pooverweek",{YEAR:S().format("YYYY")}).then(a=>{if(a.data.tk_status!=="NG"){const r=a.data.data.map((t,o)=>({...t}));i(r)}else b.fire("Thông báo","Nội dung: "+a.data.message,"error")}).catch(a=>{console.log(a)})};return f.useEffect(()=>{u()},[]),e.jsx(E,{children:e.jsxs(j,{width:500,height:300,data:s,margin:{top:5,right:30,left:20,bottom:5},children:[" ",e.jsx(y,{strokeDasharray:"3 3",className:"chartGrid"}),e.jsxs(p,{dataKey:"YEAR_WEEK",children:[" ",e.jsx(A,{value:"Tuần",offset:0,position:"insideBottom"})]}),e.jsx(_,{yAxisId:"left-axis",label:{value:"Số lượng",angle:-90,position:"insideLeft"},tickFormatter:a=>new Intl.NumberFormat("en",{notation:"compact",compactDisplay:"short"}).format(a),tickCount:12}),e.jsx(L,{content:e.jsx(d,{})}),e.jsx(C,{}),e.jsx(m,{yAxisId:"left-axis",type:"monotone",dataKey:"WEEKLY_PO_QTY",stroke:"white",fill:"#bb99ff",label:{position:"top",formatter:c}})]})})};const je=()=>{const[s,i]=f.useState([]),[c,d]=f.useState(!1),u=[{field:"CUST_NAME_KD",headerName:"CUST_NAME_KD",width:120,renderCell:t=>t.row.CUST_NAME_KD==="TOTAL"?e.jsx("span",{style:{color:"blue",backgroundColor:"#66ff33",fontSize:16},children:e.jsx("b",{children:t.row.CUST_NAME_KD.toLocaleString("en-US")})}):e.jsx("span",{style:{color:"#0000cc"},children:e.jsx("b",{children:t.row.CUST_NAME_KD})})},{field:"TOTAL_PO_BALANCE",type:"number",headerName:"TOTAL_PO_BALANCE",width:160,renderCell:t=>t.row.CUST_NAME_KD==="TOTAL"?e.jsx("span",{style:{color:"blue",backgroundColor:"#66ff33",fontSize:16},children:e.jsx("b",{children:t.row.TOTAL_PO_BALANCE.toLocaleString("en-US")})}):e.jsx("span",{style:{color:"red"},children:e.jsx("b",{children:t.row.TOTAL_PO_BALANCE.toLocaleString("en-US")})})},{field:"TSP",type:"number",headerName:"TSP",width:90,renderCell:t=>t.row.CUST_NAME_KD==="TOTAL"?e.jsx("span",{style:{color:"blue",backgroundColor:"#66ff33",fontSize:16},children:e.jsx("b",{children:t.row.TSP.toLocaleString("en-US")})}):e.jsx("span",{style:{color:"blue"},children:e.jsx("b",{children:t.row.TSP.toLocaleString("en-US")})})},{field:"LABEL",type:"number",headerName:"LABEL",width:90,renderCell:t=>t.row.CUST_NAME_KD==="TOTAL"?e.jsx("span",{style:{color:"blue",backgroundColor:"#66ff33",fontSize:16},children:e.jsx("b",{children:t.row.LABEL.toLocaleString("en-US")})}):e.jsx("span",{style:{color:"blue"},children:e.jsx("b",{children:t.row.LABEL.toLocaleString("en-US")})})},{field:"UV",type:"number",headerName:"UV",width:90,renderCell:t=>t.row.CUST_NAME_KD==="TOTAL"?e.jsx("span",{style:{color:"blue",backgroundColor:"#66ff33",fontSize:16},children:e.jsx("b",{children:t.row.UV.toLocaleString("en-US")})}):e.jsx("span",{style:{color:"blue"},children:e.jsx("b",{children:t.row.UV.toLocaleString("en-US")})})},{field:"OLED",type:"number",headerName:"OLED",width:90,renderCell:t=>t.row.CUST_NAME_KD==="TOTAL"?e.jsx("span",{style:{color:"blue",backgroundColor:"#66ff33",fontSize:16},children:e.jsx("b",{children:t.row.OLED.toLocaleString("en-US")})}):e.jsx("span",{style:{color:"blue"},children:e.jsx("b",{children:t.row.OLED.toLocaleString("en-US")})})},{field:"TAPE",type:"number",headerName:"TAPE",width:90,renderCell:t=>t.row.CUST_NAME_KD==="TOTAL"?e.jsx("span",{style:{color:"blue",backgroundColor:"#66ff33",fontSize:16},children:e.jsx("b",{children:t.row.TAPE.toLocaleString("en-US")})}):e.jsx("span",{style:{color:"blue"},children:e.jsx("b",{children:t.row.TAPE.toLocaleString("en-US")})})},{field:"RIBBON",type:"number",headerName:"RIBBON",width:90,renderCell:t=>t.row.CUST_NAME_KD==="TOTAL"?e.jsx("span",{style:{color:"blue",backgroundColor:"#66ff33",fontSize:16},children:e.jsx("b",{children:t.row.RIBBON.toLocaleString("en-US")})}):e.jsx("span",{style:{color:"blue"},children:e.jsx("b",{children:t.row.RIBBON.toLocaleString("en-US")})})},{field:"SPT",type:"number",headerName:"SPT",width:90,renderCell:t=>t.row.CUST_NAME_KD==="TOTAL"?e.jsx("span",{style:{color:"blue",backgroundColor:"#66ff33",fontSize:16},children:e.jsx("b",{children:t.row.SPT.toLocaleString("en-US")})}):e.jsx("span",{style:{color:"blue"},children:e.jsx("b",{children:t.row.SPT.toLocaleString("en-US")})})},{field:"OTHERS",type:"number",headerName:"OTHERS",width:90,renderCell:t=>t.row.CUST_NAME_KD==="TOTAL"?e.jsx("span",{style:{color:"blue",backgroundColor:"#66ff33",fontSize:16},children:e.jsx("b",{children:t.row.OTHERS.toLocaleString("en-US")})}):e.jsx("span",{style:{color:"blue"},children:e.jsx("b",{children:t.row.OTHERS.toLocaleString("en-US")})})}];function a(){return e.jsxs(V,{children:[e.jsxs(G,{className:"buttonIcon",onClick:()=>{W(s,"Customer PO Balance Table")},children:[e.jsx(M,{color:"green",size:25}),"SAVE"]}),e.jsx($,{})]})}const r=()=>{let t={CUST_NAME_KD:"TOTAL",TOTAL_PO_BALANCE:0,TSP:0,LABEL:0,UV:0,OLED:0,TAPE:0,RIBBON:0,SPT:0,OTHERS:0};T("POBalanceByCustomer",{}).then(o=>{if(o.data.tk_status!=="NG"){let n=o.data.data.map((g,l)=>(t={...t,TOTAL_PO_BALANCE:o.data.data[l].TOTAL_PO_BALANCE+t.TOTAL_PO_BALANCE,TSP:o.data.data[l].TSP+t.TSP,LABEL:o.data.data[l].LABEL+t.LABEL,UV:o.data.data[l].UV+t.UV,OLED:o.data.data[l].OLED+t.OLED,TAPE:o.data.data[l].TAPE+t.TAPE,RIBBON:o.data.data[l].RIBBON+t.RIBBON,SPT:o.data.data[l].SPT+t.SPT,OTHERS:o.data.data[l].OTHERS+t.OTHERS},{...g}));n.unshift(t),i(n)}else b.fire("Thông báo","Nội dung: "+o.data.message,"error")}).catch(o=>{console.log(o)})};return f.useEffect(()=>{r()},[]),e.jsx("div",{className:"customerpobalancebytype",children:e.jsx(Q,{sx:{fontSize:12,flex:1},components:{Toolbar:a,LoadingOverlay:F},loading:c,rowHeight:30,rows:s,columns:u,getRowId:t=>t.CUST_NAME_KD})})};var w={},de=z;Object.defineProperty(w,"__esModule",{value:!0});var I=w.default=void 0,ue=de(ce()),fe=e,he=(0,ue.default)((0,fe.jsx)("path",{d:"M7.41 15.41 12 10.83l4.59 4.58L18 14l-6-6-6 6z"}),"KeyboardArrowUp");I=w.default=he;function ye({widgettype:s,label:i,qty:c,amount:d,percentage:u,topColor:a,botColor:r}){return s==="revenue"?e.jsxs("div",{className:"widget",style:{backgroundImage:`linear-gradient(to right, ${a}, ${r})`},children:[e.jsxs("div",{className:"left",children:[e.jsx("span",{className:"title",children:i}),e.jsx("span",{className:"title2",children:"QTY"}),e.jsxs("span",{className:"counter",children:[c.toLocaleString("en-US")," EA"]})]}),e.jsxs("div",{className:"right",children:[e.jsx("div",{className:"percentage positive",children:e.jsx(I,{})}),e.jsx("span",{className:"title2",children:"AMOUNT"}),e.jsx("span",{className:"counter",children:d.toLocaleString("en-US",{style:"currency",currency:"USD"})})]})]}):e.jsx("div",{children:"NONO"})}export{Ee as C,ye as W,Ne as a,be as b,je as c,I as d,xe as e,ce as r};
