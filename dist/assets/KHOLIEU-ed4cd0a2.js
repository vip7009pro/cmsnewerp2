import{r as t,ai as o,j as e,aj as K,I as F,ak as z,al as B,ad as x,S as d}from"./index-4ab6dde0.js";import{D as J,G as X,b as q}from"./DataGrid-b5e0acb2.js";import"./TextField-db9fe3d0.js";import"./MenuItem-8199bc03.js";import"./Typography-b6d023f3.js";const te=()=>{const[O,n]=t.useState(!1);t.useState({trapo:!0,thempohangloat:!1,them1po:!1,them1invoice:!1,themycsx:!1,suaycsx:!1,inserttableycsx:!1,renderycsx:!1,renderbanve:!1,amazontab:!1});const[g,l]=t.useState(!1),[u,L]=t.useState(o().format("YYYY-MM-DD")),[_,b]=t.useState(o().format("YYYY-MM-DD")),[c,E]=t.useState(""),[N,p]=t.useState(""),[D,w]=t.useState("");t.useState(""),t.useState("");const[S,I]=t.useState(""),[C,Y]=t.useState(""),[T,y]=t.useState(!1),[h,H]=t.useState(!0),[j,m]=t.useState([]),[U,A]=t.useState(""),v=[{field:"M_CODE",headerName:"M_CODE",width:90},{field:"M_NAME",headerName:"M_NAME",width:180},{field:"WIDTH_CD",headerName:"WIDTH_CD",width:90},{field:"TON_NM1",headerName:"TON_NM1",width:120,renderCell:a=>e.jsx("span",{style:{color:"gray"},children:e.jsx("b",{children:a.row.TON_NM1.toLocaleString("en-US")})})},{field:"TON_NM2",headerName:"TON_NM2",width:120,renderCell:a=>e.jsx("span",{style:{color:"gray"},children:e.jsx("b",{children:a.row.TON_NM2.toLocaleString("en-US")})})},{field:"HOLDING_NM1",headerName:"HOLDING_NM1",width:100,renderCell:a=>e.jsx("span",{style:{color:"red"},children:e.jsx("b",{children:a.row.HOLDING_NM1.toLocaleString("en-US")})})},{field:"HOLDING_NM2",headerName:"HOLDING_NM2",width:100,renderCell:a=>e.jsx("span",{style:{color:"red"},children:e.jsx("b",{children:a.row.HOLDING_NM2.toLocaleString("en-US")})})},{field:"TOTAL_OK",headerName:"TOTAL_OK",width:150,renderCell:a=>e.jsx("span",{style:{color:"green"},children:e.jsx("b",{children:a.row.TOTAL_OK.toLocaleString("en-US")})})},{field:"TOTAL_HOLDING",headerName:"TOTAL_HOLDING",width:150,renderCell:a=>e.jsx("span",{style:{color:"red"},children:e.jsx("b",{children:a.row.TOTAL_HOLDING.toLocaleString("en-US")})})},{field:"TDS",headerName:"TDS",width:150,renderCell:a=>{let s="/tds/"+a.row.M_CODE+".pdf";return a.row.TDS==="Y"?e.jsx("span",{style:{color:"gray"},children:e.jsx("a",{target:"_blank",rel:"noopener noreferrer",href:s,children:"LINK"})}):e.jsx("span",{style:{color:"gray"},children:"Chưa có TDS"})}}],M=[{field:"G_CODE",headerName:"G_CODE",width:100},{field:"G_NAME",headerName:"G_NAME",width:220},{field:"PROD_REQUEST_NO",headerName:"SO YCSX",width:90},{field:"PLAN_ID",headerName:"PLAN_ID",width:90},{field:"M_CODE",headerName:"M_CODE",width:100},{field:"M_NAME",headerName:"M_NAME",width:180},{field:"WIDTH_CD",headerName:"WIDTH_CD",width:90},{field:"M_LOT_NO",headerName:"M_LOT_NO",width:100},{field:"OUT_CFM_QTY",headerName:"UNIT_QTY",width:120,renderCell:a=>e.jsx("span",{style:{color:"green"},children:e.jsx("b",{children:a.row.OUT_CFM_QTY.toLocaleString("en-US")})})},{field:"ROLL_QTY",headerName:"ROLL_QTY",width:100},{field:"TOTAL_OUT_QTY",headerName:"OUTPUT QTY",width:120,renderCell:a=>e.jsx("span",{style:{color:"green"},children:e.jsx("b",{children:a.row.TOTAL_OUT_QTY.toLocaleString("en-US")})})},{field:"INS_DATE",headerName:"INS_DATE",width:180}],Q=[{field:"CUST_NAME_KD",headerName:"CUST_NAME_KD",width:150},{field:"M_LOT_NO",headerName:"M_LOT_NO",width:90},{field:"M_CODE",headerName:"M_CODE",width:100},{field:"M_NAME",headerName:"M_NAME",width:180},{field:"WIDTH_CD",headerName:"WIDTH_CD",width:150},{field:"IN_CFM_QTY",headerName:"UNIT QTY",width:120,renderCell:a=>e.jsx("span",{style:{color:"green"},children:e.jsx("b",{children:a.row.IN_CFM_QTY.toLocaleString("en-US")})})},{field:"ROLL_QTY",headerName:"ROLL_QTY",width:100},{field:"TOTAL_IN_QTY",headerName:"INPUT QTY",width:120,renderCell:a=>e.jsx("span",{style:{color:"green"},children:e.jsx("b",{children:a.row.TOTAL_IN_QTY.toLocaleString("en-US")})})},{field:"INS_DATE",headerName:"INS_DATE",width:150},{field:"QC_PASS",headerName:"QC_PASS",width:180},{field:"QC_PASS_EMPL",headerName:"QC_PASS_EMPL",width:180},{field:"QC_PASS_DATE",headerName:"QC_PASS_DATE",width:180}],[P,f]=t.useState(M);function k(){return e.jsxs(X,{children:[e.jsxs(F,{className:"buttonIcon",onClick:()=>{z(j,"WareHouse Data Table")},children:[e.jsx(B,{color:"green",size:25}),"SAVE"]}),e.jsx(q,{}),e.jsx("span",{style:{fontWeight:"bold",fontSize:18,paddingLeft:20,color:"blue"},children:U})]})}const G=()=>{A(""),l(!0),x("tranhaplieu",{M_NAME:c,FROM_DATE:u,TO_DATE:_}).then(a=>{if(a.data.tk_status!=="NG"){const s=a.data.data.map((r,i)=>({...r,id:i,INS_DATE:o.utc(r.INS_DATE).format("YYYY-MM-DD HH:mm:ss"),QC_PASS_DATE:r.QC_PASS_DATE!==null?o.utc(r.QC_PASS_DATE).format("YYYY-MM-DD HH:mm:ss"):""}));m(s),n(!0),l(!1),d.fire("Thông báo","Đã load "+a.data.data.length+" dòng","success")}else d.fire("Thông báo","Nội dung: "+a.data.message,"error"),l(!1)}).catch(a=>{console.log(a)})},R=()=>{l(!0),x("traxuatlieu",{G_NAME:D,ALLTIME:T,JUSTBALANCE:h,PROD_REQUEST_NO:S,M_NAME:c,M_CODE:N,FROM_DATE:u,TO_DATE:_,PLAN_ID:C}).then(a=>{if(a.data.tk_status!=="NG"){const s=a.data.data.map((r,i)=>({...r,id:i,INS_DATE:o.utc(r.INS_DATE).format("YYYY-MM-DD HH:mm:ss")}));m(s),n(!0),l(!1),d.fire("Thông báo","Đã load "+a.data.data.length+" dòng","success")}else d.fire("Thông báo","Nội dung: "+a.data.message,"error"),l(!1)}).catch(a=>{console.log(a)})},W=()=>{A(""),l(!0),x("tratonlieu",{M_CODE:N,M_NAME:c,JUSTBALANCE:h}).then(a=>{if(a.data.tk_status!=="NG"){const s=a.data.data.map((r,i)=>({...r,id:i}));m(s),n(!0),l(!1),d.fire("Thông báo","Đã load "+a.data.data.length+" dòng","success")}else d.fire("Thông báo","Nội dung: "+a.data.message,"error"),l(!1)}).catch(a=>{console.log(a)})};return t.useEffect(()=>{},[]),e.jsx("div",{className:"kholieu",children:e.jsxs("div",{className:"tracuuDataWH",children:[e.jsxs("div",{className:"tracuuDataWHform",children:[e.jsxs("div",{className:"forminput",children:[e.jsxs("div",{className:"forminputcolumn",children:[e.jsxs("label",{children:[e.jsx("b",{children:"Từ ngày:"}),e.jsx("input",{type:"date",value:u.slice(0,10),onChange:a=>L(a.target.value)})]}),e.jsxs("label",{children:[e.jsx("b",{children:"Tới ngày:"})," ",e.jsx("input",{type:"date",value:_.slice(0,10),onChange:a=>b(a.target.value)})]})]}),e.jsxs("div",{className:"forminputcolumn",children:[e.jsxs("label",{children:[e.jsx("b",{children:"Tên Liệu:"})," ",e.jsx("input",{type:"text",placeholder:"SJ-203020HC",value:c,onChange:a=>E(a.target.value)})]}),e.jsxs("label",{children:[e.jsx("b",{children:"Mã Liệu CMS:"})," ",e.jsx("input",{type:"text",placeholder:"A123456",value:N,onChange:a=>p(a.target.value)})]})]}),e.jsxs("div",{className:"forminputcolumn",children:[e.jsxs("label",{children:[e.jsx("b",{children:"Code KD:"})," ",e.jsx("input",{type:"text",placeholder:"GH63-14904A",value:D,onChange:a=>w(a.target.value)})]}),e.jsxs("label",{children:[e.jsx("b",{children:"YCSX:"})," ",e.jsx("input",{type:"text",placeholder:"1F80008",value:S,onChange:a=>I(a.target.value)})]})]}),e.jsx("div",{className:"forminputcolumn",children:e.jsxs("label",{children:[e.jsx("b",{children:"PLAN_ID:"})," ",e.jsx("input",{type:"text",placeholder:"1F80008A",value:C,onChange:a=>Y(a.target.value)})]})}),e.jsxs("div",{className:"forminputcolumn",children:[e.jsxs("label",{children:[e.jsx("b",{children:"All Time:"}),e.jsx("input",{type:"checkbox",name:"alltimecheckbox",defaultChecked:T,onChange:()=>y(!T)})]}),e.jsxs("label",{children:[e.jsx("b",{children:"Chỉ code có tồn:"}),e.jsx("input",{type:"checkbox",name:"alltimecheckbox",defaultChecked:h,onChange:()=>H(!h)})]})]})]}),e.jsxs("div",{className:"formbutton",children:[e.jsx("button",{className:"tranhapkiembutton",onClick:()=>{l(!0),n(!1),f(Q),G()},children:"Nhập Liệu"}),e.jsx("button",{className:"tranhapkiembutton",onClick:()=>{l(!0),n(!1),f(M),R()},children:"Xuất Liệu"}),e.jsx("button",{className:"traxuatkiembutton",onClick:()=>{l(!0),n(!1),f(v),W()},children:"Tồn Liệu"})]})]}),e.jsx("div",{className:"tracuuWHTable",children:O&&e.jsx(J,{sx:{fontSize:"0.7rem",flex:1},components:{Toolbar:k,LoadingOverlay:K},loading:g,rowHeight:30,rows:j,columns:P,rowsPerPageOptions:[5,10,50,100,500,1e3,5e3,1e4,5e5],editMode:"row"})})]})})};export{te as default};
