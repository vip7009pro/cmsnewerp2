import{bh as B,bi as k,r as i,bj as G,b as U,j as s,_ as Y,d as R,bk as W,bl as $,bm as H,k as F,m as z,L as K,ai as u,bn as n,I as Q,b3 as V,aj as X,ad as x,bo as J,bp as q,S as b}from"./index-4ab6dde0.js";import{e as Z,T as ee}from"./Typography-b6d023f3.js";const se=["className","component"];function te(e={}){const{themeId:f,defaultTheme:t,defaultClassName:I="MuiBox-root",generateClassName:a}=e,D=B("div",{shouldForwardProp:h=>h!=="theme"&&h!=="sx"&&h!=="as"})(k);return i.forwardRef(function(E,L){const r=G(t),d=Z(E),{className:j,component:y="div"}=d,g=U(d,se);return s.jsx(D,Y({as:y,ref:L,className:R(j,a?a(I):I),theme:f&&r[f]||r},g))})}const oe=W(),ne=te({themeId:$,defaultTheme:oe,defaultClassName:"MuiBox-root",generateClassName:H.generate}),m=ne;function M(e){return s.jsxs(m,{sx:{display:"flex",alignItems:"center"},children:[s.jsx(m,{sx:{width:"100%",mr:1},children:s.jsx(X,{variant:"determinate",...e})}),s.jsx(m,{sx:{minWidth:35},children:s.jsx(ee,{variant:"body2",color:"text.secondary",children:`${Math.round(e.value)}%`})})]})}function le(){const e=F(c=>c.totalSlice.userData),f=z(),[t,I]=i.useContext(K),[a,D]=i.useState(0),[N,h]=i.useState(0),[E,L]=i.useState(0),[r,d]=i.useState(0),[j,y]=i.useState({count_thuong:0,count_phat:0}),g=u().year()+"-01-01",O=u(new Date),P=u(g);var T=u.duration(O.diff(P)),_=T.asDays();function S(c,o){let l=0;const p=new Date(c.getTime());for(;p<=o;)p.getDay()!==0&&l++,p.setDate(p.getDate()+1);return l}_=S(new Date(g),new Date);const v=()=>{let c={};x("workdaycheck",c).then(o=>{var l;D((l=o.data.data[0])==null?void 0:l.WORK_DAY)}).catch(o=>{console.log(o)}),x("tangcadaycheck",c).then(o=>{var l;h((l=o.data.data[0])==null?void 0:l.TANGCA_DAY)}).catch(o=>{console.log(o)}),x("nghidaycheck",c).then(o=>{var l;L((l=o.data.data[0])==null?void 0:l.NGHI_DAY)}).catch(o=>{console.log(o)}),x("countxacnhanchamcong",c).then(o=>{var l;d((l=o.data.data[0])==null?void 0:l.COUTNXN)}).catch(o=>{console.log(o)}),x("countthuongphat",c).then(o=>{var l;y({count_thuong:o.data.data.count_thuong[0].THUONG,count_phat:(l=o.data.data.count_phat[0])==null?void 0:l.PHAT})}).catch(o=>{console.log(o)})};let A=null;const C=async c=>{J(A,"NS_"+(e==null?void 0:e.EMPL_NO)+".jpg","Picture_NS").then(o=>{o.data.tk_status!=="NG"?x("update_empl_image",{EMPL_NO:e==null?void 0:e.EMPL_NO,EMPL_IMAGE:"Y"}).then(l=>{l.data.tk_status!=="NG"?(f(q({...e,EMPL_IMAGE:"Y"})),b.fire("Thông báo","Upload avatar thành công","success")):b.fire("Thông báo","Upload avatar thất bại","error")}).catch(l=>{console.log(l)}):b.fire("Thông báo","Upload file thất bại:"+o.data.message,"error")}).catch(o=>{console.log(o)})};i.useEffect(()=>(v(),()=>{}),[]);const w=()=>(e==null?void 0:e.DOB)!=null?e==null?void 0:e.DOB:"2021-12-16";return s.jsxs("div",{className:"accountinfo",children:[s.jsx("h1",{className:"text-3xl",children:n(17,t)}),s.jsxs("div",{className:"panelhome",children:[s.jsx("div",{className:`cot0 ${(e==null?void 0:e.EMPL_IMAGE)==="Y"?"on":"off"}`,children:(e==null?void 0:e.EMPL_IMAGE)==="Y"&&s.jsx("img",{width:240,height:340,src:"/Picture_NS/NS_"+(e==null?void 0:e.EMPL_NO)+".jpg",alt:e==null?void 0:e.EMPL_NO})}),s.jsxs("div",{className:`cot1 ${(e==null?void 0:e.EMPL_IMAGE)==="Y"?"on":"off"}`,children:[s.jsxs("h5",{className:"text-3xl",children:[n(18,t),":"]}),s.jsxs("ul",{children:[s.jsxs("li",{className:"emplInfoList",children:[" ",n(19,t),": ",e==null?void 0:e.MIDLAST_NAME," ",e==null?void 0:e.FIRST_NAME]}),s.jsxs("li",{className:"emplInfoList",children:[" ",n(20,t),": ",e==null?void 0:e.CMS_ID]}),s.jsxs("li",{className:"emplInfoList",children:[" ",n(21,t),": ",e==null?void 0:e.EMPL_NO]}),s.jsxs("li",{className:"emplInfoList",children:[" ",n(22,t),": ",w().slice(0,10)]}),s.jsxs("li",{className:"emplInfoList",children:[" ",n(23,t),": ",e==null?void 0:e.HOMETOWN]}),s.jsxs("li",{className:"emplInfoList",children:[" ",n(24,t),": ",e==null?void 0:e.ADD_VILLAGE,"-",e==null?void 0:e.ADD_COMMUNE,"-",e==null?void 0:e.ADD_DISTRICT,"-",e==null?void 0:e.ADD_PROVINCE]}),s.jsxs("li",{className:"emplInfoList",children:[" ",n(25,t),": ",e==null?void 0:e.MAINDEPTNAME]}),s.jsxs("li",{className:"emplInfoList",children:[" ",n(26,t),": ",e==null?void 0:e.SUBDEPTNAME]}),s.jsxs("li",{className:"emplInfoList",children:[" ",n(27,t),": ",e==null?void 0:e.WORK_POSITION_NAME]}),s.jsxs("li",{className:"emplInfoList",children:[" ",n(28,t),": ",e==null?void 0:e.ATT_GROUP_CODE]}),s.jsxs("li",{className:"emplInfoList",children:[" ",n(29,t),": ",e==null?void 0:e.JOB_NAME]}),(e==null?void 0:e.EMPL_IMAGE)!=="Y"&&s.jsxs("li",{className:"emplInfoList",children:[" ",s.jsxs("div",{className:"uploadfile",children:[" Avatar:",s.jsxs(Q,{className:"buttonIcon",onClick:C,children:[s.jsx(V,{color:"yellow",size:25}),"Upload"]}),s.jsx("input",{accept:".jpg",type:"file",onChange:c=>{A=c.target.files[0],console.log(A)}})]})]})]})]}),s.jsxs("div",{className:`cot2 ${(e==null?void 0:e.EMPL_IMAGE)==="Y"?"on":"off"}`,children:[s.jsxs("h3",{className:"h3h3",style:{color:"#cc33ff"},children:["1. ",n(30,t)," : ",Math.floor(_)," "," ",n(31,t)]})," ",s.jsx("br",{}),a," / ",Math.floor(_),s.jsx(m,{sx:{width:"100%"},children:s.jsx(M,{value:a/Math.floor(_)*100})}),s.jsxs("h3",{className:"h3h3",style:{color:"purple"},children:["2. "," ",n(32,t),": ",a," ",n(31,t)]})," ",s.jsx("br",{}),N," / ",Math.floor(a),s.jsx(m,{sx:{width:"100%"},children:s.jsx(M,{value:Math.floor(N/a*100)})}),s.jsxs("h3",{className:"h3h3",style:{color:"blue"},children:["3. ",n(33,t)," : ",N," ",n(31,t)]})," ",s.jsx("br",{}),s.jsx(m,{sx:{width:"100%"},children:s.jsx(M,{value:Math.floor(r/a*100)})}),s.jsxs("h3",{className:"h3h3",style:{color:"rgb(121 38 222)"},children:["4. ",n(34,t)," : ",r," ",n(31,t)]})," ",s.jsx("br",{}),s.jsxs("h3",{className:"h3h3",style:{color:"red"},children:["5. ",n(35,t),":"," ",E," "," ",n(31,t)]})," ",s.jsx("br",{}),s.jsxs("h3",{className:"h3h3",style:{color:"black"},children:["6. "," ",n(36,t),": ",n(37,t)," "," ",j.count_thuong," , ",n(38,t),":"," ",j.count_phat]})," ",s.jsx("br",{})]})]})]})}const he=Object.freeze(Object.defineProperty({__proto__:null,LinearProgressWithLabel:M,default:le},Symbol.toStringTag,{value:"Module"}));export{le as A,m as B,M as L,he as a};
